<!DOCTYPE html>
<html lang="zh-Hans-CN">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="description" content="LuLu UI hope主题中文文档，面向移动端开发，阅文集团前端团队荣誉出品。本页面文档内容关于Drop下拉">
<meta name="keywords" content="LuLu UI, 中文文档, UI框架, UI组件库, LuLu, Web, 前端, Drop下拉">
<title>LuLu UI hope主题中文文档 &raquo; Drop下拉</title>
<link rel="stylesheet" href="https://qidian.gtimg.com/lulu/hope/ui/ui.css">
<link rel="stylesheet" href="../hope/assets/css/mockup.css">
<script type="module" src="../hope/assets/js/code-run.js"></script>
</head>
<body>
	<input id="asideCheck" type="checkbox" class="aside-checkbox"><label for="asideCheck" class="aside-label"><svg width="24" height="24"><use xlink:href="#icon-bars"></use></svg></label>
	<header class="header">
		<a href="../" accesskey="1" class="logo-a" data-theme="hope"><h1 class="logo">LuLu UI Edge版中文文档 &raquo; Drop下拉</h1></a>
		<div class="header-right">
			<ui-drop id="dropDoc" target="dropDocData" class="ui-droplist-arrow mr20">文档</ui-drop>
			<datalist id="dropDocData">
				<option href="">文档</option>
				<option href="https://www.zhangxinxu.com/sp/lulu/guide/edge/">教程</option>
			</datalist>
			<select id="selectTheme" class="select-theme" is="ui-select">
				<option value="peak">Peak主题</option>
			    <option value="pure">Pure主题</option>
			    <option value="edge">Edge主题</option>
				<option value="hope" selected>Hope主题</option>
			</select>
			<a href="https://github.com/yued-fe/lulu" target="_blank" rel="noopener nofollow" class="blue ml15">Github➹</a>
		</div>
	</header>

<style>
    td img {
        max-width: 100%;
        object-fit: contain;
    }
    ui-drop a,
    .a {
        color: var(--ui-blue);
        display: inline-block;
        padding: .25rem 1rem;
        box-shadow: 0 0 0 1px #0003;
    }
    [data-target="fd"] {
        zoom: 1.5;
    }
</style>

<div class="main">
    <!-- 主内容 -->
    <main class="section_main">
        <h2 class="section_title">Drop下拉</h2>
        <!-- 详细内容 -->
        <article>
            <h3>安装与调用</h3>
            <pre>&lt;link rel="stylesheet" href="https://qidian.gtimg.com/lulu/hope/ui/Drop/index.css"&gt;</pre>
            <pre>&lt;script type="module" src="https://qidian.gtimg.com/lulu/hope/ui/Drop/index.js"&gt;&lt;/script&gt;</pre>
            <p>或者：</p>
            <pre>&lt;script type="module"&gt;
    import Drop from "https://qidian.gtimg.com/lulu/hope/ui/Drop/index.js";
&lt;/script&gt;</pre>

            <h4>概述</h4>

            <p>Drop 组件支持 3 种使用方式。</p>
            <p>3 种使用方式分别是：</p>
            <ol>
                <li>使用自定义元素 <code>&lt;ui-drop&gt;</code>（推荐）；</li>
                <li>普通元素上设置 <code>is-drop</code> 属性；</li>
                <li>传统的 <code>new Drop()</code> 构造语法。</li>
            </ol>

            <p>下面具体介绍 Drop 组件的使用。</p>

            <h3>&lt;ui-drop&gt; 自定义元素</h3>

            <h4>1. open 属性变化与相邻元素的显示</h4>
            <p><code>&lt;ui-drop&gt;</code> 自定义元素默认自带 <code>'click'</code> 事件，会根据点击的是否是当前元素切换 <code>open</code> 属性，因此，<code>&lt;ui-drop&gt;</code> 自定义元素即使不设置任何参数，也是可以实现一些基本的交互效果的。</p>
            <p>例如下面这段 HTML 代码，无需任何额外的 JavaScript 代码就可以实现相邻 <code>&lt;div&gt;</code> 元素的下拉效果：</p>
            <pre>&lt;ui-drop&gt;&lt;button type="primary" is="ui-button"&gt;点击我&lt;/button&gt;&lt;/ui-drop&gt;
&lt;div class="ui-drop-target"&gt;&lt;img src="1.png"&gt;&lt;/div&gt;</pre>
            <p>其中，类名 <code>'ui-drop-target'</code> 是 Drop 组件内置的类名，当位于 <code>&lt;ui-drop&gt;</code> 元素后面的时候，可以自动根据 <code>&lt;ui-drop&gt;</code> 元素的 <code>open</code> 状态显示与隐藏。</p>
           
            <code-run open title="特定类名临近下拉元素显隐">
                <div slot="preview">
                    <ui-drop><is type="primary" class="ui-button">点击我</button></ui-drop>
                    <div class="ui-drop-target"><img src="https://imgservices-1252317822.image.myqcloud.com/image/20200929/luhzoeerjd.png" alt="示意图"></div>
                </div>
            </code-run>

            <p>当然，开发者可以自定义显示与隐藏的实现，例如：</p>
            <pre>&lt;ui-drop&gt;&lt;button type="primary" is="ui-button"&gt;点击我&lt;/button&gt;&lt;/ui-drop&gt;
&lt;div class="some-target"&gt;&lt;img src="1.png"&gt;&lt;/div&gt;</pre>
<pre>:not([open]) + .some-target {
    display: none;
}</pre>
            <code-run open title="自定义类名临近下拉元素显隐">
                <div slot="preview">
                    <ui-drop><button type="primary" is="ui-button">点击我</button></ui-drop>
                    <div class="some-target"><img src="https://imgservices-1252317822.image.myqcloud.com/image/20200929/luhzoeerjd.png" alt="示意图"></div>
<style>:not([open]) + .some-target {
    display: none;
}</style>
                </div>
            </code-run>
            <h4>2. 指定目标元素</h4>

            <p><code>&lt;ui-drop&gt;</code> 可以通过设置 <code>'target'</code> 属性指定需要下拉显示的元素，例如：</p>
            <pre>&lt;ui-drop target="t1"&gt;&lt;a href="javascript:"&gt;click我&lt;/a&gt;&lt;/ui-drop&gt;
&lt;div id="t1" class="ui-droplist-x" hidden&gt;
    &lt;button&gt;测试按钮&lt;/button&gt;
    &lt;p&gt;&lt;a href="javascript:"&gt;测试文字&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;</pre>
            
            <code-run open title="指定目标元素">
                <div slot="preview">
                    <p>对应的效果为：<ui-drop target="t1"><a href="javascript:">click我</a></ui-drop></p>
                    <div id="t1" class="ui-droplist-x" hidden>
                        <button>测试按钮</button>
                        <p><a href="javascript:">测试文字</a></p>
                    </div>
                </div>
            </code-run>

            <p>支持多个元素指向同一个下拉元素，例如下面这个同样指向 <code>'t1'</code> 元素的按钮：</p>
            <pre>&lt;ui-drop class="ui-button" type="primary" target="t1"&gt;click我&lt;/ui-drop&gt;</pre>

            <code-run open title="指向同一个目标元素">
                <div slot="preview">
                    效果测试：<ui-drop type="primary" class="ui-button" target="t1">点击我</ui-drop>
                </div>
            </code-run>

            <p>支持每次显示指向不同的目标元素，例如：</p>
            <pre>&lt;ui-drop target="t1" id="df1"&gt;click我&lt;/ui-drop&gt;</pre>
            <pre>df1.addEventListener('hide', function () {
    if (this.target == 't1') {
        this.target = 't2';
    } else if (this.target == 't2') {
        this.target = 't1';
    }
});</pre>

            <code-run open title="指向不同的目标元素">
                <div slot="preview">
                    <p>
                        效果测试：<ui-drop target="t1" id="df1" is="ui-button" type="primary">点击我</ui-drop>
                    </p>
                    <div id="t2" class="ui-droplist-x" hidden>
                        <img src="https://imgservices-1252317822.image.myqcloud.com/image/20200929/luhzoeerjd.png" alt="示意图">
                    </div>
                </div>
            </code-run>

            <p>下面这个例子演示虽然 <code>target</code> 属性值不变，但是目标元素实际上每次都是新的 DOM 节点。</p>
            <pre>&lt;ui-drop target="area" id="df2"&gt;click我&lt;/ui-drop&gt;
&lt;div id="tx"&gt;&lt;textarea id="area" hidden&gt;首次显示&lt;/textarea&gt;&lt;/div&gt;</pre>
            <pre>df2.addEventListener('hide', function () {
    tx.innerHTML = `&lt;textarea id="area" hidden&gt;每次都是新的：${+new Date()}&lt;/textarea&gt;`;
    this.element.target = tx.querySelector('#area');
});</pre>
            <p>对于这种场景，需要手动重新更新组件的 <code>target</code> 对象。</p>

            <code-run title="持续修改target对象" open>
                <div slot="preview">
                    <p>
                        <ui-drop target="area" id="df2" is="ui-button" type="primary">点击我</ui-drop>
                        <small class="gray ml20">注意显示文本域中的内容变化</small>
                    </p>
                    <div id="tx"><textarea id="area" hidden>首次显示</textarea></div>
                </div>
            </code-run>


            <h4>3. 指定交互事件类型</h4>
            <p>Drop 组件除了支持默认是<code>'click'</code>点击事件，还支持 <code>'null'</code> 无绑定事件，此时下拉元素的显示与隐藏都需要开发者自己手动触发。</p>
            <p>事件的类型通过 <code>eventType</code> 属性（大小写任意）设置，下面是一个简单的案例示意。</p>

            <code-run title="null 事件显隐手动控制" open>
                <div slot="preview">
                    <a href="javascript:" class="blue" onclick="this.firstElementChild.open=true"><ui-drop target="t3" eventtype="null">点击显示</ui-drop></a>
                    <div id="t3" class="ui-droplist-x" hidden align="center">
                        <button onclick="document.querySelector('[target=t3]').open=false;">点击我隐藏</button>
                    </div>
                </div>
                <div slot="code" open>
                    <pre>&lt;a href="javascript:" onclick="this.firstElementChild.open=true"&gt;
    &lt;ui-drop target="t3" eventtype="null"点击显示&lt;/ui-drop&gt;
&lt;/a&gt;
&lt;div id="t3" class="ui-droplist-x" hidden&gt;
    &lt;button onclick="document.querySelector('[target=t3]').open=false;"&gt;点击我隐藏&lt;/button&gt;
&lt;/div&gt;</pre>
                </div>
            </code-run>

            <h4>4. 显隐控制与对应的事件触发</h4>
            <p>下拉元素显示与隐藏的控制包括下面这些方法：</p>
            <pre>// 显示，二选一
drop.open = true;
drop.show();

// 隐藏，二选一
drop.open = false;
drop.hide();</pre>

            <p><code>open</code> 属性控制下拉元素的显隐状态上面的例子已经演示过了，这里演示下 <code>&lt;ui-drop&gt;</code> 元素的 <code>show()</code> 和 <code>hide()</code> 方法。</p>

            <code-run title="show()/hide()方法" open>
                <div slot="preview">
                    <p>
                        <ui-drop id="drop4" target="t4" is="ui-button mr30" type="primary">请点击后面2个按钮</ui-drop>
        
                        <button id="dropShow" is="ui-button" type="warning">点击执行show()</button>
                        <button id="dropHide" is="ui-button" type="danger">点击执行hide()</button>
                    </p>
                    <div id="t4" class="ui-droplist-x p20" hidden>任意内容</div>
                </div>
                <div slot="code" open>
                    <pre>&lt;ui-drop id="drop4" type="primary" target="t4" is="ui-button"&gt;请点击后面两个按钮&lt;/ui-drop&gt;

&lt;button id="ds" type="warning" is="ui-button"&gt;点击执行show()&lt;/button&gt;
&lt;button id="dh" type="danger" is="ui-button"&gt;点击执行hide()&lt;/button&gt;</pre>
            <pre>ds.addEventListener('click', function (event) {
    // 阻止冒泡
    event.stopPropagation();
    // 安心显示
    drop4.show();
});
dh.addEventListener('click', function (event) {
    // 阻止冒泡
    event.stopPropagation();
    // 安心隐藏
    drop4.hide();
});</pre>
                </div>
            </code-run>
            
            <p>如果希望在下拉元素显示和隐藏的时候做些事情，可以使用自定义的 show 和 hide 事件，代码示意如下所示：</p>

<pre>drop4.addEventListener('show', () => {
    console.log('下拉显示啦~');
});
drop4.addEventListener('hide', () => {
    console.log('下拉隐藏了~');
});</pre>

            <hr>

            <p>如果希望默认下拉就显示，只需要设置 <code>&lt;ui-drop&gt;</code> 元素的 <code>open</code> 属性值为任意字符串。</p>
            <p>例如：</p>
            <pre>&lt;ui-drop target="t5" class="ui-button" data-type="primary" position="2-1" open&gt;</pre>
            <code-run title="浮层默认显示中..." open>
                <div slot="preview">
                    <ui-drop target="t5" class="ui-button" type="primary" position="2-1" open>默认显示</ui-drop>
                    <div id="t5" class="ui-droplist-x p20" hidden>默认显示中...</div>
                    <p class="mt20">
                        <small class="gray">任意点击操作会触发隐藏，因此如果浮层不可见可以刷新一下页面</small>
                    </p>
                </div>
            </code-run>

            <h3>is-drop 快捷语法</h3>
            <p>本 Drop 组件支持在原生HTML元素上添加 <code>is-drop</code> 属性实现下拉效果。</p>
            <p>需要注意的是，此语法不支持 <code>open</code> 属性，也不包含 <code>show()</code> 和 <code>hide()</code> 方法；以及 JS 设置 <code>is-drop</code> 属性是不会产生任何变化的（权衡利弊后的策略，这种场景请使用 new Drop() 构造方法）。</p>
            <p>使用示意（下面2种用法效果一致）：</p>
            <pre>&lt;a href="javascript:" is-drop="t2"&gt;click我&lt;/a&gt;</pre>
            <pre>&lt;a href="javascript:" data-target="t2" is-drop&gt;click我&lt;/a&gt;</pre>

            <code-run title="is-drop快捷语法" open>
                <div slot="preview">
                    <a href="javascript:" is-drop="t2" class="a">click我</a> &emsp; <a href="javascript:" class="a" data-target="t2" is-drop>click我</a>
                </div>
            </code-run>

            <p><code>is-drop</code> 快捷语法支持自定义其他参数，包括交互事件类型，定位的方位以及偏移大小等，均使用 <code>data-*</code> 语法进行设置。例如：</p>
            <pre>&lt;a href data-position="4-1" is-drop="t2"&gt;hover我&lt;/a&gt;</pre>

            <code-run title="is-drop参数设置" open>
                <div slot="preview">
                    <p>效果测试：<a href="javascript:" class="a" data-position="4-1" is-drop="t2">点击我</a></p>
                </div>
            </code-run>

            <p>下面测试下直接 append 一段包含 <code>is-drop</code> 设置的 HTML 代码，看看下拉效果是不是正常出现。</p>

            <code-run title="is-drop参数设置" open>
                <div slot="preview">
                    <button id="b1" is="ui-button" type="primary">插入一段包含 is-drop 设置的 HTML</button>
                </div>
                <div slot="code">
                    <pre>button.addEventListener('click', function (event) {
    this.insertAdjacentHTML('afterend', '&lt;p&gt;&lt;a href is-drop="t2"&gt;插入内容，点击我&lt;/a&gt;&lt;/p&gt;');
});</pre>
                </div>
            </code-run>            

            <h3>new Drop() 构造语法</h3>
            <p><code>new Drop()</code> 构造语法用来给普通的 HTML 元素绑定下拉交互行为。</p>
            <p><code>new Drop()</code> 执行的时候会创建 <code>&lt;ui-drop&gt;</code> 自定义元素并返回，和 <code>new Dialog()</code> 不同，<code>new Drop()</code> 方法创建的元素不会插入到页面上下文中，只会存在内存中。</p>
            <p>例如：</p>
            <pre>let eleDrop = new Drop();</pre>
            <p>此时 <code>eleDrop</code> 就是一个存在内存中的 <code>&lt;ui-drop&gt;</code> 元素。</p>

            <p>因此，<code>&lt;ui-drop&gt;</code> 元素包含的属性和方法均可以在 <code>eleDrop</code> 对象中使用。</p>

            <p>例如执行 <code>eleDrop.hide()</code> 可以隐藏下拉元素。</p>

            <h4>1. 基本使用演示</h4>
            <p>相关代码如下：</p>
            <pre>&lt;button id="b2" type="primary" is="ui-button"&gt;已绑定new Drop('#b2', '#t2')&lt;/button&gt;</pre>
            <pre>new Drop('#b2', '#t2');</pre>

            <code-run title="new Drop语法使用" open>
                <div slot="preview">
                    演示兼测试：<button id="b2" class="ui-button" type="primary">已绑定new Drop('#b2', '#t2')</button>
                </div>
            </code-run>

            <h4>2. 常见参数使用示意</h4>
            <p><code>new Drop()</code> 构造语法支持 DOM 元素上设置参数，以及通过 JS 传参这两种方法，例如：</p>
            <pre>&lt;button id="b3" is="ui-button" type="primary" data-position="5-7"&gt;传参测试&lt;/button&gt;</pre>
            <pre>// 传参使用演示
let d3 = new Drop('#b3', t3, {
    // 等同于d3.addEventListener('show', ...)
    onShow: function () {
        // this就是这里的d3
        this.element.trigger.dataset.type = 'warning';
    }
});
d3.addEventListener('hide', function () {
    this.element.trigger.dataset.type = 'primary';
});</pre>

            <code-run title="new Drop传参测试" open>
                <div slot="preview">
                    测试：<button id="b3" is="ui-button" type="primary" data-position="5-7">传参测试</button>
                </div>
            </code-run>

            <h4>3. 事件的委托</h4>
            <p><code>new Drop()</code> 构造语法支持一个特有的 <code>selector</code> 参数，可以让 <code>trigger</code> 元素的某些子元素作为下拉元素显示的事件源，适用于下拉触发元素是动态生成的场景。</p>
            <p>例如：</p>
            <pre>&lt;p id="freshBtn"&gt;&lt;a&gt;内容&lt;/a&gt;&lt;/p&gt;
&lt;img id="i1" src="9.png"&gt;</pre>
            <pre>// 点击&lt;a&gt;元素显示下拉
new Drop('#freshBtn', i1, {
    selector: 'a'
});</pre>
            <code-run title="事件的委托测试" open>
                <div slot="preview">
                    <p id="freshBtn" class="pb10 blue"><a href="javascript:">内容</a></p>
                    <img id="i1" class="dn zx1 abs" src="https://qidian.gtimg.com/lulu/theme/modern/css/common/images/temp/2015-06-24_162429.png">
                    <p><a href="javascript:" class="ui-button" data-type="primary" onclick="freshBtn.innerHTML = '<a href=javascript:>'+ Math.random() +'</a>';">上面链接HTML刷新</a></p>
                </div>
            </code-run>

            <h3>Drop语法和参数</h3>

            <p>语法为：</p>
            <pre>let eleDrop = new Drop(trigger, target, options);</pre>
            <p>其中：</p>
            <dl>
                <dt>trigger</dt>
                <dd>可选。Object 元素或 String 选择器。触发 Drop 浮层显示的 DOM 元素，如果缺省，表示触发元素是 <code>eleDrop</code> 自身。</dd>
                <dt>target</dt>
                <dd>可选。Object 元素或 String 选择器。Drop 浮层元素。如果 <code>trigger</code> 和 <code>target</code> 只设置了其中一个，则这个参数认为是 <code>trigger</code>。
                </dd>
                <dt>options</dt>
                <dd>可选。Object 对象。可选参数见下表（红色星号参数是 <code>new Drop()</code> 构造语法特有参数）：</dd>
            </dl>
            <table width="100%" class="ui-table">
                <tr>
                    <th scope="col" width="80">参数名称</th>
                    <th scope="col" width="80">支持类型</th>
                    <th scope="col" width="100">默认值</th>
                    <th scope="col">释义</th>
                </tr>
                <tr>
                    <td>event<wbr>Type</td>
                    <td>String</td>
                    <td>'click'</td>
                    <td>表示触发元素显示的事件，默认是 <code>'click'</code>, 表示点击事件。<code>'hover'</code> 表示hover时候显示下拉；<code>'null'</code> 表示没有任何事件，需要手动调用 <code>show()</code> 方法才显示，隐藏也需要自己调用 <code>hide()</code> 方法实现。</td>
                </tr>
                <tr>
                    <td>selector<sup class="abs red">*</sup></td>
                    <td>String</td>
                    <td>''</td>
                    <td>click 或 hover 的委托处理需要的选择器。如果参数值不为空，则 <code>trigger</code> 认为是容器。</td>
                </tr>
                <tr>
                    <td>offsets</td>
                    <td>Object</td>
                    <td><span class="db">{<br>
                    &nbsp;&nbsp;x: 0,<br>
                    &nbsp;&nbsp;y: 0<br>
                }</span></td>
                    <td>表示浮动元素的偏移大小，相对于右上角偏移，数值越大右上角偏移越大。</td>
                </tr>
                <tr>
                    <td>position</td>
                    <td>String</td>
                    <td>'7-5'</td>
                    <td>表示触发元素和浮层元素的定位关系。基于 <code>'trigger<wbr>-target'</code> 规则。详见“<a href="./float.html">Float浮层</a>”文档中的说明。
                    </td>
                </tr>
                <tr>
                    <td>edge<wbr>Adjust</td>
                    <td>Boolean</td>
                    <td>true</td>
                    <td>表示浮层屏幕之外的时候，是否自动调整方向。默认是自动调整。
                    </td>
                </tr>
                <tr>
                    <td>onShow<sup class="abs red">*</sup></td>
                    <td>Function</td>
                    <td>function () {}</td>
                    <td>浮层显示时候的回调方法。函数的上下文 <code>this</code> 为当前 <code>eleDrop</code> 元素，支持 1 个参数，为事件对象。</td>
                </tr>
                <tr>
                    <td>onHide<sup class="abs red">*</sup></td>
                    <td>Function</td>
                    <td>function () {}</td>
                    <td>浮层隐藏时候的回调方法。函数的上下文 <code>this</code> 为当前 <code>eleDrop</code> 元素，支持1个参数，为事件对象。</td>
                </tr>
            </table>

            <h4>在 DOM 元素上设置参数</h4>
            <p>上表所有参数均支持直接在 DOM 元素上设置，其中 <code>onShow</code> 和 <code>onHide</code> 参数对应的效果需要通过 <code>addEventListener</code> 方法进行设置，例如：</p>
            <pre>trigger.addEventListener('show', function () {});
trigger.addEventListener('hide', function () {});</pre>

            <p>其余所有参数均采用 <code>data-*</code> 的自定义参数的形式进行设置，注意保持小写，例如：</p>
            <pre>&lt;a data-offsets="10, 10" data-edge-adjust="false" data-target="i1" is-drop&gt;经过我&lt;/a&gt;</pre>
            <a data-offsets="10, 10" data-edge-adjust="false" data-target="i1" is-drop>点击我</a>

            <p>对于 <code>&lt;ui-drop&gt;</code> 元素，则无需使用 <code>data-*</code>，直接设置对应参数即可，且不区分大小写，例如：</p>
            <pre>&lt;ui-drop offsets="10, 10" edgeAdjust="false" target="i1"&gt;点击我&lt;/ui-drop&gt;</pre>
            <ui-drop class="blue" offsets="10, 10" edgeAdjust="false" target="i1">点击我</ui-drop>

            <h4>DOM 扩展 drop() 方法</h4>

            <p>本组件还支持 <code>element.drop()</code> 语法，使用场景和底层实现和 <code>new Drop()</code> 构造语法一致。</p>

            <p>例如：</p>
            <pre>&lt;button type="primary" id="b4" is="ui-button"&gt;点击我&lt;/button&gt;</pre>
            <pre>b4.drop(t3);</pre>
            <p><button type="primary" id="b4" is="ui-button">点击我</button></p>

            <h3>ui-drop 元素的属性和方法</h3>
            <p><code>eleDrop</code> 就是 <code>&lt;ui-drop&gt;</code> 元素，暴露了以下属性和方法：</p>
<pre>{
    // 暴露的元素们
    element = {
        // 触发元素
        trigger: null,
        // 激活面板元素
        target: null
    },
    params: {
        // 事件类型
        eventtype: "click"
        // 浮动元素的偏移大小
        offsets: {x: 0, y: 0}
        // 触发元素和浮层元素的定位关系
        position: "",
        // 委托功能选择器
        selector: ""
    },
    // 参数设置
    setParams: function (options) {},
    // 重定位
    position: function () {},
    // 显示
    show: function () {},
    // 隐藏
    hide: function () {}
}</pre>
            <div class="contributors">
                <svg>
                    <use xlink:href="#icon-persons"></use>
                </svg>
                <h6 class="contributors-h">本页贡献者：</h6>
                <p id="contributorsP" class="contributors-p">zhangxinxu</p>
            </div>
        </article>
    </main>
    <!-- 侧边栏 -->
    <!-- 侧边栏 -->
<aside id="aside" class="aside">
    <div class="aside_main">
    	<dl class="aside_dl">
        	<dt class="aside_dt">关于</dt>
            <dd><a href="./about.html" class="aside_nav ">设计思考</a></dd>
            <dd><a href="./use.html" class="aside_nav ">快速上手</a></dd>
        </dl>
        <dl class="aside_dl">
            <dt class="aside_dt">样式</dt>
            <dd><a href="./colour.html" class="aside_nav ">颜色与主题</a></dd>
            <dd><a href="./layout.html" class="aside_nav ">既定布局</a></dd>
        </dl>
        <dl class="aside_dl">
            <dt class="aside_dt">元素衍生</dt>
            <dd><a href="./hr.html" class="aside_nav ">Hr 分隔线</a></dd>
            <dd><a href="./button.html" class="aside_nav ">Button 按钮</a></dd>

            <dd><a href="./input.html" class="aside_nav ">Input 文本框</a>
                <!-- <dd-li>
                    <a href="./input-password.html" class="aside_nav ">Password 密码框</a>
                </dd-li> -->
            </dd>
            <dd><a href="./textarea.html" class="aside_nav ">Textarea 文本域</a></dd>

            <dd><a href="./checkbox.html" class="aside_nav ">Checkbox 多选</a>
                <dd-li>
                    <a href="./checkbox-switch.html" class="aside_nav ">Switch 开关</a>
                </dd-li>
            </dd>
            <dd><a href="./radio.html" class="aside_nav ">Radio 单选</a></dd>

            <dd><a href="./progress.html" class="aside_nav ">Progress 进度</a></dd>

            <dd><a href="./select.html" class="aside_nav ">Select 下拉框</a></dd>
            <dd><a href="./range.html" class="aside_nav ">Range 范围选择</a>
                <dd-li>
                    <a href="./range-star.html" class="aside_nav ">Star 评分</a>
                </dd-li>
            </dd>
            <dd><a href="./color.html" class="aside_nav ">Color 颜色选择</a></dd>
            <dd><a href="./datetime.html" class="aside_nav ">DateTime 日期选择</a></dd>
            <dd><a href="./form.html" class="aside_nav ">Form 表单</a>
                <dd-li><a href="./errortip.html" class="aside_nav ">ErrorTip 提示</a></dd-li>
                <dd-li><a href="./validate.html" class="aside_nav ">Validate 表单验证</a></dd-li>
            </dd>
        </dl>
        <dl class="aside_dl">
            <dt class="aside_dt">交互</dt>
            <dd><a href="./loading.html" class="aside_nav ">Loading 效果</a>
                <!-- <dd-li>
                    <a href="" class="aside_nav ">Pulldown 下拉</a>
                </dd-li> -->
            </dd>
            <dd><a href="./overlay.html" class="aside_nav ">Overlay 覆盖</a>
                <dd-li><a href="./popup.html" class="aside_nav ">Popup 弹出</a></dd-li>
                <dd-li><a href="./dialog.html" class="aside_nav ">Dialog 弹框</a></dd-li>
            </dd>
            
            <dd><a href="./float.html" class="aside_nav ">Float 浮层</a>
                <dd-li>
                    <a href="./toast.html" class="aside_nav ">Toast 提示</a>
                </dd-li>
                <dd-li>
                    <a href="./lighttip.html" class="aside_nav ">LightTip 提示</a>
                </dd-li>
                <dd-li>
                    <a href="./followtext.html" class="aside_nav ">FollowText 提示</a>
                </dd-li>
            </dd>

            <dd><a href="./pagination.html" class="aside_nav ">Pagination 分页</a></dd>

            <dd><a href="./drop.html" class="aside_nav active">Drop 下拉</a>
                <dd-li>
                    <a href="drop-list.html" class="aside_nav ">Drop 列表</a>
                </dd-li>
            </dd>
            
            <dd>
                <a href="./rel.html" class="aside_nav ">Rel 切换</a>
                <dd-li>
                    <a href="./tab.html" class="aside_nav ">Tab 选项卡</a>
                </dd-li>
            </dd>
            <dd>
                <a href="./snap.html" class="aside_nav ">Snap 滚动</a>
                <dd-li>
                    <a href="snap-swipe.html" class="aside_nav ">SnapSwipe 轮播</a>
                </dd-li>
                <dd-li>
                    <a href="snap-cell.html" class="aside_nav ">SnapCell 滑动单元格</a>
                </dd-li>
                <dd-li>
                    <a href="snap-tab.html" class="aside_nav ">SnapTab 滑动式选项卡</a>
                </dd-li>
            </dd>
            
        </dl>
    </div>
</aside>
<script>(function () {
    // 记住滚动位置
    var eleAside = document.getElementById('aside');

    eleAside.addEventListener('click', function () {
        sessionStorage.asideScrollTop = this.scrollTop;
    });

    eleAside.scrollTop = sessionStorage.asideScrollTop;
    // IE这里设置可能没有用
    if (eleAside.scrollTop != sessionStorage.asideScrollTop) {
        setTimeout(function () {
            eleAside.scrollTop = sessionStorage.asideScrollTop;
        }, 1);
    }

    // 滚动条设置判断
    var div = document.createElement('div');
    div.style.width = '100px';
    div.style.height = '100px';
    div.style.overflow = 'auto';
    div.style.position = 'absolute';
    div.style.left = '-199px';
    var p = document.createElement('p');
    p.style.height = '120px';
    p.innerHTML = 'haha';
    div.appendChild(p);
    document.body.appendChild(div);
    if (p.clientWidth != 100) {
        eleAside.className += ' scrollbar';
    }
    document.body.removeChild(div);
})();
</script>
</div>

<a href="#" id="backtop" class="backtop"></a>
<!-- 底部 -->
<script src="../hope/assets/js/mockup.js"></script>
<script src="../hope/assets/js/highlight.min.js"></script>
<script>
document.querySelectorAll('pre').forEach((el) => {
    hljs.highlightElement(el);
});
</script>
</body>
</html>
<script type="module" src="https://qidian.gtimg.com/lulu/hope/ui/Drop/index.js"></script>
<script type="module">

var eleBtnShow = document.querySelector('#dropShow');
var eleBtnHide = document.querySelector('#dropHide');

eleBtnShow.addEventListener('click', function (event) {
    // 阻止冒泡
    event.stopPropagation();
    // 安心显示
    drop4.show();
});
eleBtnHide.addEventListener('click', function (event) {
    // 阻止冒泡
    event.stopPropagation();
    // 安心隐藏
    drop4.hide();
});

drop4.addEventListener('show', () => {
    console.log('下拉显示啦~');
});
drop4.addEventListener('hide', () => {
    console.log('下拉隐藏了~');
});

b1.addEventListener('click', function (event) {
    this.insertAdjacentHTML('afterend', '<p class="mt10"><a href class="blue" is-drop="t2">插入内容，点击我</a></p>');
});

// 基本使用演示
new Drop('#b2', '#t2');

// 传参使用演示
let d3 = new Drop('#b3', t3, {
    onShow: function () {
        // this就是这里的d3
        this.element.trigger.dataset.type = 'warning';
    }
});
d3.addEventListener('hide', function () {
    this.element.trigger.dataset.type = 'primary';
});

b4.drop(t3);

// 委托Drop.js
var i1 = document.querySelector('#i1');
var i2 = i1.cloneNode();

new Drop('#freshBtn', i1, {
    selector: 'a'
});

// hover委托
new Drop('#freshBtn2', i2, {
    eventType: 'hover',
    selector: 'a',
    edgeAdjust: false
});

df1.addEventListener('hide', function () {
    if (this.target == 't1') {
        this.target = 't2';
    } else if (this.target == 't2') {
        this.target = 't1';
    }
});
df2.addEventListener('hide', function () {
    tx.innerHTML = `<textarea id="area" hidden>每次都是新的：${+new Date()}</textarea>`;
    this.element.target = tx.querySelector('#area');
});
</script>