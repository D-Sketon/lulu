<!DOCTYPE html>
<html lang="zh-Hans-CN">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="description" content="LuLu UI hope主题中文文档，面向移动端开发，阅文集团前端团队荣誉出品。本页面文档内容关于Range范围选择">
<meta name="keywords" content="LuLu UI, 中文文档, UI框架, UI组件库, LuLu, Web, 前端, Range范围选择">
<title>LuLu UI hope主题中文文档 &raquo; Range范围选择</title>
<link rel="stylesheet" href="https://qidian.gtimg.com/lulu/hope/ui/ui.css">
<link rel="stylesheet" href="../hope/assets/css/mockup.css">
<script type="module" src="../hope/assets/js/code-run.js"></script>
</head>
<body>
	<input id="asideCheck" type="checkbox" class="aside-checkbox"><label for="asideCheck" class="aside-label"><svg width="24" height="24"><use xlink:href="#icon-bars"></use></svg></label>
	<header class="header">
		<a href="../" accesskey="1" class="logo-a" data-theme="hope"><h1 class="logo">LuLu UI Edge版中文文档 &raquo; Range范围选择</h1></a>
		<div class="header-right">
			<ui-drop id="dropDoc" target="dropDocData" class="ui-droplist-arrow mr20">文档</ui-drop>
			<datalist id="dropDocData">
				<option href="">文档</option>
				<option href="https://www.zhangxinxu.com/sp/lulu/guide/edge/">教程</option>
			</datalist>
			<select id="selectTheme" class="select-theme" is="ui-select">
				<option value="peak">Peak主题</option>
			    <option value="pure">Pure主题</option>
			    <option value="edge">Edge主题</option>
				<option value="hope" selected>Hope主题</option>
			</select>
			<a href="https://github.com/yued-fe/lulu" target="_blank" rel="noopener nofollow" class="blue ml15">Github➹</a>
		</div>
	</header>


<div class="main">
    <!-- 主内容 -->
    <main class="section_main">
    	<h2 class="section_title">Range 范围选择</h2>
        <!-- 详细内容 -->
        <article>
            <h3>安装与调用</h3>
            <p>引入如下 CSS 和 JS：</p>
            <pre>&lt;link rel="stylesheet" href="https://qidian.gtimg.com/lulu/hope/ui/Range/index.css"&gt;</pre>
            <pre>&lt;script type="module" src="https://qidian.gtimg.com/lulu/hope/ui/Range/index.js"&gt;&lt;/script&gt;</pre>
            <p>本组件为 Web Components，引用时需添加 <code>type="module"</code>，也可采用如下方式进行引用</p>
            <pre>&lt;script type="module"&gt;
    import "https://qidian.gtimg.com/lulu/hope/ui/Range/index.js";
&lt;/script&gt;</pre>

            <h3>基本使用示意</h3>

            <p>给 <code>type="range"</code> 区域选择框添加 <code>is="ui-range"</code> 。</p>
            <pre>&lt;input type="range" is="ui-range"&gt;</pre>

            <code-run title="基本区域选择效果" open>
                <div slot="preview">
                    <input type="range" is="ui-range">
                </div>
            </code-run>

            <h4>步阶和范围</h4>

            <p>步阶使用 <code>step</code> 属性控制，范围使用原生的 <code>min</code> 和 <code>max</code> 属性控制，初始值使用 <code>value</code> 属性。</p>

            <pre>&lt;input type="range" value="50" min="0" max="120" step="10" is="ui-range"&gt;</pre>

            <code-run title="步阶和范围示意" open>
                <div slot="preview">
                    <input type="range" value="50" min="0" max="120" step="10" is="ui-range">
                </div>
            </code-run>

            <h4>值提示</h4>

            <p>如果想要实时显示当前值，一种方法是借助 <code>'input'</code> 事件处理，可以借助 Toast 组件，另外一种方式就是使用 <code>tips</code> 属性。</p>

            <p>支持字面量语法，例如：</p>

            <pre>&lt;input type="range" is="ui-range" tips="${value}%"&gt;</pre>

            <code-run title="范围选择提示效果" open>
                <div slot="preview">
                    <input type="range" is="ui-range" tips="${value}%">
                </div>
            </code-run>

            <p>仅支持 value 这一个字面变量，支持任意的表达式。</p>

            <h4>事件处理演示</h4>

            <p>和原生的 <code>range</code> 选择框一样的事件处理，推荐使用 <code>'input'</code> 事件。</p>
            <code-run title="基本的事件处理" open>
                <div slot="operate">
                    <ui-flex>
                        透明度：<input type="range" id="r0" value="100" is="ui-range" tips="${value}%" flex="1">
                    </ui-flex>
                </div>
                <div slot="preview">
                    <p class="mb10">拖动范围选择框，图片的透明度会发生变化。</p>
                    <img id="img" src="//bookcover.yuewen.com/qdbimg/349573/1012237441/180" alt="全球高武" height="160">
                </div>
                <div slot="code">
                    <pre>透明度：&lt;input type="range" id="r0" value="100" tips="${value}%" is="ui-range"&gt;</pre>
                    <pre><span class="green">// 直接给 &lt;input&gt; 元素绑定 input 事件即可</span>
r0.addEventListener('input', function () {
    img.style.opacity = this.value / 100;
});</pre>
                </div>
            </code-run>

            <h4>负数跨度测试</h4>
            <p>看看能不能准确从 <code>-10</code> 滑到 <code>10</code> 。</p>
            <pre>&lt;input type="range" tips="${value}" value="5" min="-10" max="10" is="ui-range"&gt;</pre>

            <code-run title="负值范围" open>
                <div slot="preview">
                    <input type="range" tips="${value}" value="5" min="-10" max="10" is="ui-range">
                </div>
            </code-run>

            <h4>朝下显示</h4>

            <p>设置属性 <code>reverse</code>。</p>
            <pre>&lt;input type="range" is="ui-range" tips="${value}" reverse&gt;</pre>

            <code-run title="朝下显示" open>
                <div slot="preview">
                    <input type="range" is="ui-range" tips="${value}" reverse>
                    <p>&nbsp;<br>&nbsp;</p>
                </div>
            </code-run>

            <h3>区域范围选择</h3>
            <p>有时候可能需要的区域范围选择器，比如温度区间（从 20℃ 到 40℃），添加 <code>multiple</code> 属性即可实现。</p>

            <pre>&lt;input type="range" tips="${value}℃" is="ui-range" multiple&gt;</pre>

            <code-run title="区域范围选择" open>
                <div slot="preview">
                    <input id="rm0" type="range" tips="${value}℃" is="ui-range" multiple>
                    <sup id="op0"></sup>
                </div>
            </code-run>

            <h4>起止值设置</h4>
            
           <p>可以通过 <code>from</code> 设置默认初始值（默认为 min），<code>to</code> 设置默认结束值（默认为 max），也可以通过 <code>range</code> 属性统一设置，格式形如 <code>0,100</code></p>

           <pre>&lt;input type="range" tips="${value}℃" is="ui-range" multiple from="20" to="80"&gt;
&lt;input type="range" tips="${value}℃" is="ui-range" multiple range="10,60"&gt;</pre>

            <code-run title="区域范围起止值设置" open>
                <div slot="preview">
                    <input type="range" from="20" to="80" tips="${value}℃" is="ui-range" multiple>
                    <input type="range" class="mt20" range="10,60" tips="${value}℃" is="ui-range" multiple>
                </div>
            </code-run>
            <p class="tips">range 优先级高于 from 和 to</p>

            <h4>赋值和取值</h4>

            <p>可以通过 JavaScript 实时设置和获取：</p>
            <pre>// 获取
range.from;
// 设置
range.from = 20;
range.to;
range.to = 80;
range.range;
// 注意以逗号 , 连接
range.range = '20,80';</pre>

            <code-run title="区域范围赋值和取值" open>
                <div slot="preview">
                    <button id="bm1" is="ui-button" type="primary">设置 from 为 20</button>
                    <button id="bm2" is="ui-button" type="primary">设置 to 为 80</button>
                    <button id="bm3" is="ui-button" type="primary">设置 range 为 30,60</button>
                    <p class="mt20">
                        <input id="rm" type="range" tips="${value}℃" is="ui-range" multiple>
                    </p>
                </div>
            </code-run>

            <h3>样式设置</h3>

            <h4>颜色设置</h4>

            <p>可以使用 <code>color</code> 属性快捷设置。</p>
            <pre>&lt;input type="range" is="ui-range" color="darkred"&gt;</pre>

            <code-run title="范围选择颜色设置" open>
                <div slot="preview">
                    <input type="range" is="ui-range" color="darkred">
                </div>
            </code-run>

            <p>支持任意颜色值，包括自定义属性。</p>

            <pre>&lt;input type="range" is="ui-range" color="var(--ui-green)"&gt;</pre>

            <code-run title="CSS 变量颜色" open>
                <div slot="preview">
                    <input type="range" is="ui-range" color="var(--ui-green)">
                </div>
            </code-run>

            <p>包括渐变：</p>

            <pre>&lt;input type="range" is="ui-range" color="var(--ui-green), orange"&gt;</pre>

            <code-run title="CSS 渐变范围选择" open>
                <div slot="preview">
                    <input type="range" is="ui-range" color="var(--ui-green), orange">
                </div>
            </code-run>

            <h4>尺寸设置</h4>

            <p>默认宽度 <code>100%</code>，高度 <code>2rem</code>，可以使用 <code>width</code> 和 <code>height</code> 属性进行尺寸设置。</p>

            <pre>&lt;input type="range" is="ui-range" width="300" height="3rem"&gt;</pre>

            <code-run title="尺寸设置" open>
                <div slot="preview">
                    <input type="range" is="ui-range" width="300" height="3rem">
                </div>
            </code-run>

            <h4>按钮和轨道尺寸</h4>

            <p>支持使用 <code>size</code> 属性设置滑竿按钮和轨道的视觉尺寸，如果没有单位，则认为是 <code>px</code>。</p>

            <pre>&lt;input type="range" is="ui-range" size="25"&gt;</pre>

            <code-run title="指定按钮和轨道的尺寸" open>
                <div slot="preview">
                    <input type="range" is="ui-range" size="25">
                </div>
            </code-run>

            <p>组件内置了 <code>small</code> 和 <code>large</code> 两个关键字值，对于尺寸为 <code>1rem</code> 和 <code>1.5rem</code>。</p>
            <pre>&lt;input type="range" is="ui-range" size="small"&gt;
&lt;input type="range" is="ui-range" size="large"&gt;</pre>

            <code-run title="内置轨道尺寸" open>
                <div slot="preview">
                    <input type="range" is="ui-range" size="small">
                    <input type="range" is="ui-range" size="large">
                </div>
            </code-run>

            <p>轨道高度和按钮高度比例恒定为 <code>1:5</code>，若想修改轨道的尺寸，可以使用 CSS 变量 <code>--ui-range-track-hegiht</code>，示意：</p>
            <code-run title="轨道高度设置" open>
                <div slot="preview">
                    <input type="range" is="ui-range" height="3rem" style="--ui-range-track-hegiht: .375rem;">
                </div>
                <div slot="code">
                    <pre>&lt;input type="range" is="ui-range" height="3rem" style="--ui-range-track-hegiht: .375rem;"&gt;</pre>
                </div>
            </code-run>

            <h4>圆角设置</h4>

            <p>默认轨道有圆角，如果不希望有圆角，可以设置 <code>radius="none"</code>。</p>
            <pre>&lt;input type="range" is="ui-range" radius="none"&gt;</pre>
            <code-run title="直角轨道" open>
                <div slot="preview">
                    <input type="range" is="ui-range" radius="none">
                </div>
            </code-run>

            <h4>disabled 禁用态</h4>
            <p>设置 <code>disabled</code> 属性开启禁用。</p>

            <pre>&lt;input type="range" is="ui-range" disabled&gt;</pre>

            <code-run title="禁用态效果" open>
                <div slot="preview">
                    <p><input type="range" is="ui-range" disabled></p>
                    <p><input type="range" is="ui-range" multiple disabled></p>
                </div>
            </code-run>

            <h3>增删监听行为测试</h3>

            <p>支持 <code>createElement</code> 创建元素，或者使用 <code>innerHTML</code> 方式添加。</p>
            <code-run title="动态创建元素的渲染" open>
                <div slot="preview">
                    <button id="b1" is="ui-button" type="primary">新增范围选择框</button>
                    <button id="b2" is="ui-button" type="primary" disabled>克隆范围选择框</button>
                    <button id="b3" is="ui-button" type="primary">新增区间范围选择框</button>
                </div>
                <div slot="code">
                    <pre>button.addEventListener('click', function () {
    // 注意，这里需要添加{ is: 'ui-range' }
    var range = document.createElement('input', { is: 'ui-range' });
    range.type = 'range';
    range.tips = '${value}';
    // 如果需要区间选择就要加上这句
    range.setAttribute('multiple', '');
    // 插入到后面
    this.parentElement.after(range);
});</pre>
                </div>
            </code-run>

            <p>演示下范围选择框的删除。</p>
            <code-run title="范围选择框的删除" open>
                <div slot="operate">
                    <button id="b4" is="ui-button" type="danger">删除范围选择框</button>
                    <hr>
                    <button id="b5" is="ui-button" type="danger">删除区间范围选择框</button>
                </div>
                <div slot="preview">
                    <input type="range" is="ui-range" id="r4">
                    <p><input type="range" is="ui-range" id="r5" multiple></p>
                </div>
                <div slot="code">
                    <pre>button.addEventListener('click', function () {
    range.remove();
});</pre>
                </div>
            </code-run>

            <div class="contributors">
                <svg><use xlink:href="#icon-persons"></use></svg> <h6 class="contributors-h">本页贡献者：</h6><p id="contributorsP" class="contributors-p">zhangxinxu</p>
            </div>
        </article>
    </main>
    <!-- 侧边栏 -->
    <!-- 侧边栏 -->
<aside id="aside" class="aside">
    <div class="aside_main">
    	<dl class="aside_dl">
        	<dt class="aside_dt">关于</dt>
            <dd><a href="./about.html" class="aside_nav ">设计思考</a></dd>
            <dd><a href="./use.html" class="aside_nav ">快速上手</a></dd>
        </dl>
        <dl class="aside_dl">
            <dt class="aside_dt">样式</dt>
            <dd><a href="./colour.html" class="aside_nav ">颜色与主题</a></dd>
            <dd><a href="./layout.html" class="aside_nav ">既定布局</a></dd>
        </dl>
        <dl class="aside_dl">
            <dt class="aside_dt">元素衍生</dt>
            <dd><a href="./hr.html" class="aside_nav ">Hr 分隔线</a></dd>
            <dd><a href="./button.html" class="aside_nav ">Button 按钮</a></dd>

            <dd><a href="./input.html" class="aside_nav ">Input 文本框</a>
                <!-- <dd-li>
                    <a href="./input-password.html" class="aside_nav ">Password 密码框</a>
                </dd-li> -->
            </dd>
            <dd><a href="./textarea.html" class="aside_nav ">Textarea 文本域</a></dd>

            <dd><a href="./checkbox.html" class="aside_nav ">Checkbox 多选</a>
                <dd-li>
                    <a href="./checkbox-switch.html" class="aside_nav ">Switch 开关</a>
                </dd-li>
            </dd>
            <dd><a href="./radio.html" class="aside_nav ">Radio 单选</a></dd>

            <dd><a href="./progress.html" class="aside_nav ">Progress 进度</a></dd>

            <dd><a href="./select.html" class="aside_nav ">Select 下拉框</a></dd>
            <dd><a href="./range.html" class="aside_nav active">Range 范围选择</a>
                <dd-li>
                    <a href="./range-star.html" class="aside_nav ">Star 评分</a>
                </dd-li>
            </dd>
            <dd><a href="./datetime.html" class="aside_nav ">DateTime 日期选择</a></dd>
            <dd><a href="./form.html" class="aside_nav ">Form 表单</a>
                <dd-li><a href="./errortip.html" class="aside_nav ">ErrorTip 提示</a></dd-li>
                <dd-li><a href="./validate.html" class="aside_nav ">Validate 表单验证</a></dd-li>
            </dd>
        </dl>
        <dl class="aside_dl">
            <dt class="aside_dt">交互</dt>
            <dd><a href="./loading.html" class="aside_nav ">Loading 效果</a>
                <!-- <dd-li>
                    <a href="" class="aside_nav ">Pulldown 下拉</a>
                </dd-li> -->
            </dd>
            <dd><a href="./overlay.html" class="aside_nav ">Overlay 覆盖</a>
                <dd-li><a href="./popup.html" class="aside_nav ">Popup 弹出</a></dd-li>
                <dd-li><a href="./dialog.html" class="aside_nav ">Dialog 弹框</a></dd-li>
            </dd>
            
            <dd><a href="./float.html" class="aside_nav ">Float 浮层</a>
                <dd-li>
                    <a href="./toast.html" class="aside_nav ">Toast 提示</a>
                </dd-li>
                <dd-li>
                    <a href="./lighttip.html" class="aside_nav ">LightTip 提示</a>
                </dd-li>
                <dd-li>
                    <a href="./followtext.html" class="aside_nav ">FollowText 提示</a>
                </dd-li>
            </dd>

            <dd><a href="./pagination.html" class="aside_nav ">Pagination 分页</a></dd>

            <dd><a href="./drop.html" class="aside_nav ">Drop 下拉</a>
                <dd-li>
                    <a href="drop-list.html" class="aside_nav ">Drop 列表</a>
                </dd-li>
            </dd>
            
            <dd>
                <a href="./rel.html" class="aside_nav ">Rel 切换</a>
                <dd-li>
                    <a href="./tab.html" class="aside_nav ">Tab 选项卡</a>
                </dd-li>
            </dd>
            <dd>
                <a href="./snap.html" class="aside_nav ">Snap 滚动</a>
                <dd-li>
                    <a href="snap-swipe.html" class="aside_nav ">SnapSwipe 轮播</a>
                </dd-li>
                <dd-li>
                    <a href="snap-cell.html" class="aside_nav ">SnapCell 滑动单元格</a>
                </dd-li>
                <dd-li>
                    <a href="snap-tab.html" class="aside_nav ">SnapTab 滑动式选项卡</a>
                </dd-li>
            </dd>
            
        </dl>
    </div>
</aside>
<script>(function () {
    // 记住滚动位置
    var eleAside = document.getElementById('aside');

    eleAside.addEventListener('click', function () {
        sessionStorage.asideScrollTop = this.scrollTop;
    });

    eleAside.scrollTop = sessionStorage.asideScrollTop;
    // IE这里设置可能没有用
    if (eleAside.scrollTop != sessionStorage.asideScrollTop) {
        setTimeout(function () {
            eleAside.scrollTop = sessionStorage.asideScrollTop;
        }, 1);
    }

    // 滚动条设置判断
    var div = document.createElement('div');
    div.style.width = '100px';
    div.style.height = '100px';
    div.style.overflow = 'auto';
    div.style.position = 'absolute';
    div.style.left = '-199px';
    var p = document.createElement('p');
    p.style.height = '120px';
    p.innerHTML = 'haha';
    div.appendChild(p);
    document.body.appendChild(div);
    if (p.clientWidth != 100) {
        eleAside.className += ' scrollbar';
    }
    document.body.removeChild(div);
})();
</script>
</div>

<a href="#" id="backtop" class="backtop"></a>
<!-- 底部 -->
<script src="../hope/assets/js/mockup.js"></script>
<script src="../hope/assets/js/highlight.min.js"></script>
<script>
document.querySelectorAll('pre').forEach((el) => {
    hljs.highlightElement(el);
});
</script>
</body>
</html>
<script type="module" src="https://qidian.gtimg.com/lulu/hope/ui/Range/index.js"></script>
<script type="module">
(function () {
    // 设置透明度
    r0.addEventListener('input', function () {
        img.style.opacity = this.value / 100;
    });

    b1.addEventListener('click', function () {
        var eleRange = document.createElement('input', { 
            is:'ui-range' 
        });
        eleRange.setAttribute('type', 'range');
        eleRange.tips = '${value}';
        eleRange.className = 'R';
        // 插入到后面
        b1.parentElement.prepend(eleRange);
        // 删除
        b2.disabled = false;
    });

    b2.addEventListener('click', function () {
        var eleRange = this.parentElement.querySelector('input:not([rel])');
        if (eleRange) {
            eleRange.after(eleRange.cloneNode(true));
        }
    });

    b3.addEventListener('click', function () {
        var eleRange = document.createElement('input', { is:'ui-range' });
        eleRange.setAttribute('type', 'range');
        eleRange.setAttribute('multiple', '');
        // 插入到后面
        this.parentElement.prepend(eleRange);
    });

    b4.addEventListener('click', function () {
        r4.remove();
        this.disabled = true;
    });

    b5.addEventListener('click', function () {
        r5.remove();
        this.disabled = true;
    });

    bm1.addEventListener('click', function () {
        rm.from = 20;
    });

    bm2.addEventListener('click', function () {
        rm.to = 80;
    });

    bm3.addEventListener('click', function () {
        rm.range = '30,60';
    });

    rm0.addEventListener('input', function (ev) {
        op0.innerText = this.range;
    })
})();
</script>
