<!doctype html>
<html lang="zh-Hans-CN">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="description" content="LuLu UI pure主题中文文档，面向PC，也兼容移动端，非常适合对外用户web网站的UI框架，阅文集团前端团队荣誉出品。本页面文档内容关于Range范围选择" />
<meta name="keywords" content="LuLu UI, 中文文档, UI框架, UI组件库, LuLu, Web, 前端, Range范围选择" />
<title>LuLu UI pure主题中文文档 &raquo; Range范围选择</title>
<link rel="stylesheet" href="https://qidian.gtimg.com/lulu/pure/css/common/animate.css">
<link rel="stylesheet" href="https://qidian.gtimg.com/lulu/pure/css/common/ui.css">
<link rel="stylesheet" href="../pure/assets/css/mockup.css">
</head>
<body>
	<input id="asideCheck" type="checkbox" class="aside-checkbox"><label for="asideCheck" class="aside-label"><svg width="24" height="24"><use xlink:href="#icon-bars"></use></svg></label>
	<header class="header">
		<a href="../" accesskey="1" class="logo-a" data-theme="pure"><h1 class="logo">LuLu UI pure版中文文档 &raquo; Range范围选择</h1></a>
		<div class="header-right">
			<select id="selectTheme" class="select-theme" is="ui-select">
				<option value="peak">Peak主题</option>
			    <option value="pure" selected>Pure主题</option>
			    <option value="edge">Edge主题</option>
			</select>
			<a href="https://github.com/yued-fe/lulu" class="fork-me ui-button">Fork Me</a>
		</div>
	</header>


<div class="main">
    <!-- 主内容 -->
    <main class="section_main">
    	<h2 class="section_title">Range范围选择</h2>
        <!-- 详细内容 -->
        <article>
            <h3>作为插件单独使用</h3>
            <p>引入如下CSS和JS：</p>
            <pre>&lt;link rel="stylesheet" href="https://qidian.gtimg.com/lulu/pure/css/common/ui/Tips.css"&gt;
&lt;link rel="stylesheet" href="https://qidian.gtimg.com/lulu/pure/css/common/ui/Range.css"&gt;</pre>
            <pre>&lt;script src="https://qidian.gtimg.com/lulu/pure/js/common/ui/Follow.js"&gt;&lt;/script&gt;
&lt;script src="https://qidian.gtimg.com/lulu/pure/js/common/ui/Tips.js"&gt;&lt;/script&gt;
&lt;script src="https://qidian.gtimg.com/lulu/pure/js/common/ui/Range.js"&gt;&lt;/script&gt;</pre>
            <p>或者引入合并的资源：</p>
            <pre>&lt;link rel="stylesheet" href="https://qidian.gtimg.com/c/=/lulu/pure/css/common/ui/Tips.css,/lulu/pure/css/common/ui/Range.css"&gt;</pre>
            <pre>&lt;script src="https://qidian.gtimg.com/c/=/lulu/pure/js/common/ui/Follow.js,/lulu/pure/js/common/ui/Tips.js,/lulu/pure/js/common/ui/Range.js"&gt;&lt;/script&gt;</pre>

            <h3>基本使用示意</h3>

            <p>Range 组件默认会对 <code>type="range"</code> 区域选择框进行 UI 美化，通常无需进行任何的初始化。</p>
            <p>如果存在范围选择框无法初始化的情况，请使用 <code>new Range()</code> 方法构造，参见“语法和参数”。</p>

            <h4>无需初始化演示</h4>
            <p>宽度：<input type="range" class="ui-range-input" value="50" min="0" max="100" step="10" data-tips="${value}px"></p>
            <p>HTML如下：</p>
            <pre>&lt;input type="range" class="ui-range-input" value="50" min="0" max="100" step="10" data-tips="${value}px"&gt;</pre>
            <p>range 选择的最大值和最小值由原生的 <code>min</code> 和 <code>max</code> 属性控制，每次选择的范围由 <code>step</code> 属性控制。</p>
            <p>三个属性都可以缺省，<code>min</code> 默认为 <code>0</code>，<code>max</code> 默认为 <code>100</code>，<code>step</code> 默认是 <code>1</code>。</p>
            <p><code>data-tips</code> 的值为移动滑杆按钮时候出现的黑色提示内容，<code>${value}</code> 是个动态数据，表示当前<code>&lt;input&gt;</code> 元素实时 <code>value</code> 值。</p>

            <h4>事件处理演示</h4>
            <p>下面有张图片，拖动范围选择框，图片的透明度会发生变化。</p>
            <p><img id="opacityImg" src="//bookcover.yuewen.com/qdbimg/349573/1012237441/180" alt="全球高武" height="160"></p>
            <p><span class="vm">透明度：</span><input type="range" id="opacityRange" class="ui-range-input" value="50" min="0" max="100" data-tips="${value}%"></p>
            <pre>透明度：&lt;input type="range" id="r0" class="ui-range-input" value="50" min="0" max="100" data-tips="${value}%"&gt;</pre>
            <pre><span class="green">// 直接给 &lt;input&gt; 元素绑定 change 事件即可</span>
r0.addEventListener('change', function () {
    img.style.opacity = this.value / 100;
});</pre>
            <p>符合LuLu UI的设计理念，UI视觉与业务逻辑相分离。</p>

            <h4>负数跨度测试</h4>
            <p>看看能不能准确从 <code>-10</code> 滑到 <code>10</code>。</p>
            <p><input type="range" class="ui-range-input" value="5" min="-10" max="10"></p>
            <p>HTML如下：</p>
            <pre>&lt;input type="range" class="ui-range-input" value="5" min="-10" max="10"&gt;</pre>

            <h4>朝下显示测试</h4>
            <p>如果范围选择框位置很靠浏览器上边缘，希望黑色的提示朝下，则和 Tips 组件一样，加一个类名 <code>.reverse</code> 过着添加 <code>reverse</code> 属性就可以了，例如：</p>
            <p><input type="range" class="ui-range-input reverse"> <input type="range" class="ui-range-input" reverse></p>
            <p>HTML如下：</p>
            <pre>&lt;input type="range" class="ui-range-input <mark>reverse</mark>"&gt;
&lt;input type="range" class="ui-range-input" <mark>reverse</mark>&gt;</pre>

            <h4>动态改变选中的范围值</h4>
            <p><input type="range"class="ui-range-input" id="randomRange" min="1"></p>
            <p><button id="rangeButton" class="ui-button" data-type="primary">改变值（随机）</button></p>
            <p>HTML 代码和 JS 代码如下：</p>
            <pre>&lt;p&gt;&lt;input type="range"class="ui-range-input" id="r1" min="1"&gt;&lt;/p&gt;
&lt;button id="b1"&gt;改变值（随机）&lt;/button&gt;</pre>

            <pre>b1.addEventListener('click', function () {
    <span class="green">// range DOM 元素上 data.range 就是范围选择实例对象
    调用该实例暴露的 value 方法改变 range &lt;input&gt; 的值和滑块位置</span>
    r1.data.range.value(Math.ceil(100 * Math.random()));
});</pre>

            <h4>disabled 禁用测试</h4>
            <p><input type="range" id="rangeDisabled" class="ui-range-input" disabled></p>
            <p>处于禁用状态的时候，范围选择框无法滑动，无法点击，无法聚焦，且视觉半透明。</p>
            <p><button id="enableButton" class="ui-button" data-type="primary">切换disabled状态</button></p>
            <pre>button.addEventListener('click', function () {
    range.disabled = !range.disabled;
});</pre>

            <h4>宽度 100% 演示</h4>
            <div class="ui-range-input"><input type="range" data-tips="值：${value}"></div>
            <pre>&lt;div class="ui-range-input"&gt;&lt;input type="range" data-tips="值：${value}"&gt;&lt;/div&gt;</pre>
            <p>或者使用width="100%"，例如：</p>
            <p><input type="range" class="ui-range-input" width="100%"></p>
            <pre>&lt;input type="range" class="ui-range-input" <mark>width="100%"</mark>&gt;</pre>

            <h4>保持原生的 UI</h4>            
            <p><input type="range" is-visible></p>
            <p>给滑块选择输入框设置属性 <code>is-visible</code> 可以让其保持默认的 UI 效果。</p>
            <pre>&lt;input type="range" <mark>is-visible</mark>&gt;</pre>
            <p>需要注意的是 IE9 浏览器原生不支持 range 框，因此，IE9 浏览器下会表现为普通的输入框。</p>

            <h3>动态加载和删除</h3>

            <button id="bi" class="ui-button" data-type="primary">添加</button>
            <button id="br" class="ui-button" data-type="danger">删除</button>

            <pre>&lt;button id="bi" class="ui-button" data-type="primary"&gt;添加&lt;/button&gt;
&lt;button id="br" class="ui-button" data-type="danger"&gt;删除&lt;/button&gt;</pre>
            <pre>bi.addEventListener('click', function () {
    this.insertAdjacentHTML('afterend', '&lt;p&gt;&lt;input type="range"&gt;&lt;/p&gt;');
});
br.addEventListener('click', function () {
    var prev = this.previousElementSibling;
    if (prev.matches('p')) {
        prev.remove();
    }
});</pre>

            <h3>语法和参数</h3>
            <pre>var myRange = new Range(element, options);</pre>

            <p>其中：</p>
            <dl>
                <dt>element</dt>
                <dd>必需。Element 元素或者 String 选择器。指 HTML 原生的 range 选择框。</dd>
                <dt>options</dt>
                <dd>可选。Object纯对象。可选参数见下表：</dd>
            </dl>

            <table width="100%" class="ui-table">
              <tr>
                <th scope="col" width="70">参数名称</th>
                <th scope="col" width="80">支持类型</th>
                <th scope="col" width="150">默认值</th>
                <th scope="col">释义</th>
              </tr>
              <tr>
                <td>reverse</td>
                <td>Boolean</td>
                <td>false</td>
                <td>黑色 tips 是否朝下显示。默认朝上，设置为 <code>true</code> 则朝下显示。
                    <p>给 <code>element</code> 设置类名 <code>reverse</code> 有同样的效果。</p></td>
              </tr>
              <tr>
                <td>tips</td>
                <td>Function</td>
                <td><span class="db">function (value) {<br>
                &nbsp;&nbsp;return value;<br>
                }<br></span></td>
                <td>如果 <code>tips</code> 是 Function，则其返回值会作为黑色 tips 的内容显示。其中，上下文 <code>this</code> 指的是滑杆按钮元素，支持一个参数 <code>value</code>，为 <code>element</code> 的当前值。
                    <p>如果 <code>tips</code> 属性值为 <code>null</code>, 则表示不显示黑色 tips 提示。</p>
                    <p>给 <code>element</code> 设置 <code>data-tips</code> 属性有类似效果，例如 <code>data-tips="null"</code> 表示不出现黑色提示。动态值使用 <code>${value}</code> 匹配，例如 <code>data-tips="${value}%"</code> 会出现类似 <code>50%</code> 这样的黑色提示。</p>
                </td>
              </tr>
            </table>
            <p>本组件依赖 Tips 组件。</p>

            <h4>关于实例对象</h4>
            <p>myRange就是返回的实例对象，暴露了以下属性和方法：</p>
            <pre>{
    element:{
        <span class="green">// 容器</span>
        container: null,
        <span class="green">// 轨道</span>
        track: null,
        <span class="green">// 按钮</span>
        thumb: null
    },
    number: {
        <span class="green">// 最小值</span>
        min: 1,
        <span class="green">// 最大值</span>
        max: 100,
        <span class="green">// 步阶</span>
        step: 1
    }
    params: {
        <span class="green">// 是否朝下</span>
        reverse: false,
        <span class="green">// 黑色提示内容</span>
        tips: function (value) {
            return value;
        }
    },
    <span class="green">// 是否可用</span>
    disabled: false,
    <span class="green">// 赋值</span>
    value: function (value) {},
    <span class="green">// 滑杆按钮定位</span>
    position: function () {}
}</pre>

            <h3>增删监听测试</h3>
            <p><button id="rangeAdd" class="ui-button" data-type="primary">新增范围选择框</button></p>
            <pre>button.addEventListener('click', function () {
    var eleRange = document.createElement('input');
    eleRange.setAttribute('type', 'range');
    <span class="green">// for非原生IE9</span>
    eleRange.className = 'ui-range-input';
    <span class="green">// 插入到后面</span>
    eleBtnAdd.parentElement.after(eleRange);
});</pre>
            <p><button id="btnDelete" class="ui-button" data-type="danger">删除下面的范围选择框</button></p>
            <p><input type="range" id="rangeDelete" class="ui-range-input"></p>
            <pre>button.addEventListener('click', function () {
    range.remove();
    this.disabled = true;
});</pre>
            <p>删除原生的 range 范围选择框即可。</p>

            <div class="contributors">
                <svg><use xlink:href="#icon-persons"></use></svg> <h6 class="contributors-h">本页贡献者：</h6><p id="contributorsP" class="contributors-p">zhangxinxu，5ibinbin</p>
            </div>
        </article>
    </main>
    <!-- 侧边栏 -->
    <!-- 侧边栏 -->
<aside id="aside" class="aside">
    <div class="aside_main">
    	<dl class="aside_dl">
        	<dt class="aside_dt">关于</dt>
            <dd><a href="./about.design.html" class="aside_nav "><i class="icon icon_nav_msg"><svg><use xlink:href="#icon-maxcdn"></use></svg></i>命名与设计</a></dd>
            <dd><a href="./about.use.html" class="aside_nav "><i class="icon icon_nav_set"><svg><use xlink:href="#icon-wrench"></use></svg></i>使用与发布</a></dd>
        </dl>
        <dl class="aside_dl">
            <dt class="aside_dt">全局</dt>
            <dd><a href="./apis.colour.html" class="aside_nav "><i class="icon icon_nav_ux"><svg><use xlink:href="#icon-delicious"></use></svg></i>颜色</a></dd>
        </dl>
        <dl class="aside_dl">
            <dt class="aside_dt">布局</dt>
            <dd><a href="./apis.table.html" class="aside_nav "><i class="icon icon_nav_ux"><svg><use xlink:href="#icon-table"></use></svg></i>Table表格</a></dd>
        </dl>
        <dl class="aside_dl">
            <dt class="aside_dt">控件</dt>
            <dd><a href="./apis.button.html" class="aside_nav "><i class="icon icon_nav_ux"><svg><use xlink:href="#icon-caret-square-o-right"></use></svg></i>Button按钮</a></dd>
            <dd><a href="./apis.input.html" class="aside_nav "><i class="icon icon_nav_ux"><svg><use xlink:href="#icon-tasks"></use></svg></i>Input文本框</a></dd>
            <dd><a href="./apis.textarea.html" class="aside_nav "><i class="icon icon_nav_ux"><svg><use xlink:href="#icon-square-o"></use></svg></i>Textarea文本域</a></dd>
            <dd><a href="./apis.placeholder.html" class="aside_nav "><i class="icon icon_nav_reply"><svg><use xlink:href="#icon-product-hunt"></use></svg></i>Placeholder占位符</a></dd>
            <dd><a href="./apis.checked.html" class="aside_nav "><i class="icon icon_nav_reply"><svg><use xlink:href="#icon-check-square"></use></svg></i>Radio/Checkbox框</a></dd>
            <dd><a href="./apis.switch.html" class="aside_nav "><i class="icon icon_nav_reply"><svg><use xlink:href="#icon-toggle-on"></use></svg></i>Switch开关</a></dd>
            <dd><a href="./apis.progress.html" class="aside_nav "><i class="icon icon_nav_reply"><svg><use xlink:href="#icon-ellipsis-h"></use></svg></i>Progress进度</a></dd>
        </dl>
        <div class="aside_divide"></div>
        <dl class="aside_dl">
            <dt class="aside_dt" hidden>动态控件</dt>
            <dd><a href="./apis.select.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-bars"></use></svg></i>Select下拉框</a></dd>
            <dd><a href="./apis.range.html" class="aside_nav active"><i class="icon icon_nav_user"><svg><use xlink:href="#icon-sliders"></use></svg></i>Range范围选择</a></dd>
            <dd><a href="./apis.color.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-eyedropper"></use></svg></i>Color颜色选择</a></dd>
            <dd><a href="./apis.datetime.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-calendar"></use></svg></i>DateTime日期选择</a></dd>
        </dl>
        <div class="aside_divide"></div>
        <dl class="aside_dl">
            <dt class="aside_dt">组件</dt>
            <dd><a href="./apis.loading.html" class="aside_nav "><i class="icon icon_nav_reply"><svg><use xlink:href="#icon-spinner"></use></svg></i>Loading效果</a></dd>
            <dd><a href="./apis.datalist.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-list"></use></svg></i>Datalist数据列表</a></dd>
            <dd><a href="./apis.dialog.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-external-link"></use></svg></i>Dialog弹框</a></dd>
            <dd><a href="./apis.tips.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-bell"></use></svg></i>Tips/ErrorTip提示</a></dd>
            <dd><a href="./apis.lighttip.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-bolt"></use></svg></i>LightTip轻提示</a></dd>
            <dd><a href="./apis.pagination.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-stack"></use></svg></i>Pagination分页</a></dd>
            <dd><a href="./apis.drop.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-dropbox"></use></svg></i>Drop等下拉</a></dd>
            <dd><a href="./apis.validate.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-check-square-o"></use></svg></i>Validate表单验证</a></dd>
            <dd><a href="./apis.tab.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-tags"></use></svg></i>Tab选项卡切换</a></dd>
        </dl>

        <dl class="aside_dl">
            <dt class="aside_dt">综合实例</dt>
            <dd><a href="./example.table.html" class="aside_nav "><i class="icon icon_nav_menu"><svg><use xlink:href="#icon-list-alt"></use></svg></i>表格解决方案</a></dd>
            <dd><a href="./example.form.html" class="aside_nav "><i class="icon icon_nav_source"><svg><use xlink:href="#icon-wpforms"></use></svg></i>表单解决方案</a></dd>
        </dl>
    </div>
</aside>
<script>(function () {
    // 记住滚动位置
    var eleAside = document.getElementById('aside');

    eleAside.addEventListener('click', function () {
        sessionStorage.asideScrollTop = this.scrollTop;
    });

    eleAside.scrollTop = sessionStorage.asideScrollTop;
    // IE这里设置可能没有用
    if (eleAside.scrollTop != sessionStorage.asideScrollTop) {
        setTimeout(function () {
            eleAside.scrollTop = sessionStorage.asideScrollTop;
        }, 1);
    }

    // 滚动条设置判断
    var div = document.createElement('div');
    div.style.width = '100px';
    div.style.height = '1px';
    div.style.overflow = 'auto';
    div.style.position = 'absolute';
    div.style.left = '-199px';
    var p = document.createElement('p');
    p.style.height = '20px';
    div.appendChild(p);
    document.body.appendChild(div);
    if (p.clientWidth != 100) {
        eleAside.className += ' scrollbar';
    }
    document.body.removeChild(div);
})();
</script>
</div>

<a href="#" id="backtop" class="backtop"></a>

<script src="https://qidian.gtimg.com/lulu/pure/js/common/polyfill.js"></script>
<script src="https://qidian.gtimg.com/lulu/pure/js/common/ui/Keyboard.js"></script>
<script src="https://qidian.gtimg.com/lulu/pure/js/common/ui/Select.js"></script>
<!-- 底部 -->
<script src="../pure/assets/js/mockup.js"></script>
</body>
</html>
<script src="https://qidian.gtimg.com/lulu/pure/js/common/ui/Follow.js"></script>
<script src="https://qidian.gtimg.com/lulu/pure/js/common/ui/Tips.js"></script>
<script src="https://qidian.gtimg.com/lulu/pure/js/common/ui/Range.js"></script>
<script>
(function () {
    // 设置透明度
    var opacityRange = document.querySelector('#opacityRange');
    var opacityImg =  document.querySelector('#opacityImg');
    opacityRange.addEventListener('change', function () {
        opacityImg.style.opacity = this.value / 100;
    });

    // 随机改变值
    var randomRange = document.querySelector('#randomRange');
    var eleBtn = document.querySelector('#rangeButton');
    eleBtn.addEventListener('click', function () {
        randomRange.data.range.value(Math.ceil(100 * Math.random()));
    });

    var eleBtnAdd = document.getElementById('rangeAdd');
    eleBtnAdd.addEventListener('click', function () {
        var eleRange = document.createElement('input');
        eleRange.className = 'ui-range-input';
        eleRange.setAttribute('type', 'range');
        // 插入到后面
        eleBtnAdd.parentElement.after(eleRange);
    });

    var eleBtnDelete = document.getElementById('btnDelete');
    var eleRangeDelete = document.getElementById('rangeDelete');
    eleBtnDelete.addEventListener('click', function () {
        eleRangeDelete.remove();
        this.disabled = true;
    });

    var eleBtnEnable = document.getElementById('enableButton');
    var eleRangeDisabled = document.getElementById('rangeDisabled');

    eleBtnEnable.addEventListener('click', function () {
        eleRangeDisabled.disabled = !eleRangeDisabled.disabled;
    });

    bi.addEventListener('click', function () {
        this.insertAdjacentHTML('afterend', '<p><input type="range"></p>');
    });
    br.addEventListener('click', function () {
        var prev = this.previousElementSibling;
        if (prev.matches('p')) {
            prev.remove();
        }
    });
})();
</script>
