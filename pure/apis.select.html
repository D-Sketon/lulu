<!doctype html>
<html lang="zh-Hans-CN">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="description" content="LuLu UI pure主题中文文档，面向PC，也兼容移动端，非常适合对外用户web网站的UI框架，阅文集团前端团队荣誉出品。本页面文档内容关于Select下拉框" />
<meta name="keywords" content="LuLu UI, 中文文档, UI框架, UI组件库, LuLu, Web, 前端, Select下拉框" />
<title>LuLu UI pure主题中文文档 &raquo; Select下拉框</title>
<link rel="stylesheet" href="https://qidian.gtimg.com/lulu/pure/css/common/animate.css">
<link rel="stylesheet" href="https://qidian.gtimg.com/lulu/pure/css/common/ui.css">
<link rel="stylesheet" href="../pure/assets/css/mockup.css">
</head>
<body>
	<input id="asideCheck" type="checkbox" class="aside-checkbox"><label for="asideCheck" class="aside-label"><svg width="24" height="24"><use xlink:href="#icon-bars"></use></svg></label>
	<header class="header">
		<a href="../" accesskey="1" class="logo-a" data-theme="pure"><h1 class="logo">LuLu UI pure版中文文档 &raquo; Select下拉框</h1></a>
		<div class="header-right">
			<select id="selectTheme" class="select-theme" is="ui-select">
				<option value="peak">Peak主题</option>
			    <option value="pure" selected>Pure主题</option>
			    <option value="edge">Edge主题</option>
			</select>
			<a href="https://github.com/yued-fe/lulu" class="fork-me ui-button">Fork Me</a>
		</div>
	</header>


<div class="main">
    <!-- 主内容 -->
    <style type="text/css">.ui-button { vertical-align: middle; }</style>
	<main class="section_main">
    	<h2 class="section_title">Select下拉框</h2>
        <!-- 详细内容 -->
        <article>
            <h3>作为插件单独使用</h3>
            <p>引入CSS：</p>
            <pre>&lt;link rel="stylesheet" href="https://qidian.gtimg.com/lulu/pure/css/common/ui/Select.css"&gt;</pre>
            <p>引入JS：</p>
            <pre>&lt;script src="https://qidian.gtimg.com/lulu/pure/js/common/ui/Select.js"&gt;&lt;/script&gt;</pre>

            <h3>下拉框-单选</h3>

            <h4>为空</h4>
            <p>没有任何 <code>&lt;option&gt;</code> 元素。</p>
            <select></select>
            <pre>&lt;select&gt;&lt;/select&gt;</pre>

            <h4>label赋值</h4>

            <p>如果设置了 <code>label</code> 属性，优先使用 <code>label</code> 属性值作为列表值。</p>
            <select id="select">
                <option value="1" label="选项a">选项1</option>
                <option value="2" label="选项b">
            </select>
            <p>此时，<code>&lt;option&gt;</code> 元素内的值会被忽略。</p>
            <pre>&lt;select id="select"&gt;
    &lt;option value="1" label="选项a"&gt;选项1&lt;/option&gt;
    &lt;option value="2" label="选项b"&gt;
&lt;/select&gt;</pre>

            <h4>赋值</h4>
            <p>测试禁用态样式，以及动态赋值与样式同步变化。</p>
            <p>
                <select>
                    <option value="1" disabled>选项1</option>
                    <option value="2">选项2</option>
                    <option value="3">选项3</option>
                    <option value="4" selected>选项4</option>
                    <option value="5">选项5</option>
                    <option value="6">选项6</option>
                </select>
                <button id="btnMatch" class="ui-button" data-type="primary">第二个选项选中</button>
            </p>
            <pre>&lt;select&gt;
    &lt;option value="1" disabled&gt;选项1&lt;/option&gt;
    &lt;option value="2"&gt;选项2&lt;/option&gt;
    &lt;option value="3"&gt;选项3&lt;/option&gt;
    &lt;option value="4" selected&gt;选项4&lt;/option&gt;
    &lt;option value="5"&gt;选项5&lt;/option&gt;
    &lt;option value="6"&gt;选项6&lt;/option&gt;
&lt;/select&gt;</pre>
            <pre>
<span class="green">// 更推荐下面的直接value赋值
// 样式会自动同步</span>
button.addEventListener('click', function () {
    select.value = select[1].value;
});

<span class="green">// 不推荐，因为需要手动refresh()</span>
button.addEventListener('click', function () {
    select[1].selected = true;
    <span class="green">// 需要手动触发刷新</span>
    select.refresh();
});
</pre>
            <p class="tips">和浏览器原生行为一样，value 赋值不会触发 change 事件。</p>
            <h4>隐藏</h4>
            <p>
                <select style="width:150px;">
                    <option>选项1</option>
                    <option>如果选项很长，而下拉框很短怎么办</option>
                </select>
                <button id="btnHidden" class="ui-button" data-type="primary">hidden 属性隐藏</button>
            </p>
            <pre>button.addEventListener('click', function () {
    select.setAttribute('hidden', '');
});</pre>
            <h4>滚动条</h4>
            <p>
                <select>
                    <option>选项1</option>
                    <option>选项2</option>
                    <option>选项3</option>
                    <option>选项4</option>
                    <option>选项5</option>
                    <option>选项6</option>
                    <option>选项7</option>
                    <option>选项8</option>
                    <option>选项9</option>
                    <option>选项10</option>
                    <option>选项11</option>
                </select>
            </p>
            <p>主要测试记住上一次滚动条位置的细节。</p>

            <h4>分组</h4>

            <p>支持<code>&lt;optgroup&gt;</code>元素分组。</p>
            <p>
                <select is="ui-select">
                    <optgroup label="分组1">
                    <option>选项 1.1</option>
                    </optgroup>
                    <optgroup label="分组2">
                    <option>选项 2.1</option>
                    <option>选项 2.2</option>
                    </optgroup>
                    <optgroup label="分组3" disabled>
                    <option>选项 3.1</option>
                    <option>选项 3.2</option>
                    <option>选项 3.3</option>
                    </optgroup>
                </select>
            </p>
            <pre>&lt;select is="ui-select"&gt;
  &lt;optgroup label="分组1"&gt;
    &lt;option&gt;选项 1.1&lt;/option&gt;
  &lt;/optgroup&gt;
  &lt;optgroup label="分组2"&gt;
    &lt;option&gt;选项 2.1&lt;/option&gt;
    &lt;option&gt;选项 2.2&lt;/option&gt;
  &lt;/optgroup&gt;
  &lt;optgroup label="分组3" disabled&gt;
    &lt;option&gt;选项 3.1&lt;/option&gt;
    &lt;option&gt;选项 3.2&lt;/option&gt;
    &lt;option&gt;选项 3.3&lt;/option&gt;
  &lt;/optgroup&gt;
&lt;/select&gt;</pre>

            <p>如果没有 <code>&lt;optgroup&gt;</code> 元素设置 <code>label</code> 描述，则分组使用分隔线分割。</p>
            <p>
                <select is="ui-select">
                    <optgroup>
                    <option>选项 1.1</option>
                    </optgroup>
                    <optgroup>
                    <option>选项 2.1</option>
                    <option disabled>选项 2.2</option>
                    </optgroup>
                    <optgroup>
                    <option>选项 3.1</option>
                    <option>选项 3.2</option>
                    <option>选项 3.3</option>
                    </optgroup>
                </select>
            </p>
            <pre>&lt;select is="ui-select"&gt;
  &lt;optgroup&gt;
    &lt;option&gt;选项 1.1&lt;/option&gt;
  &lt;/optgroup&gt;
  &lt;optgroup&gt;
    &lt;option&gt;选项 2.1&lt;/option&gt;
    &lt;option disabled&gt;选项 2.2&lt;/option&gt;
  &lt;/optgroup&gt;
  &lt;optgroup&gt;
    &lt;option&gt;选项 3.1&lt;/option&gt;
    &lt;option&gt;选项 3.2&lt;/option&gt;
    &lt;option&gt;选项 3.3&lt;/option&gt;
  &lt;/optgroup&gt;
&lt;/select&gt;</pre>

            <h4>宽度外部自适应</h4>
            <p>有时候，我们需要 <code>&lt;select&gt;</code> 元素宽度100%自适应外部容器，可以通过添加 <code>width="100%"</code> 快捷设置。</p>
            <select width="100%">
                <option>选项1</option>
                <option>选项2</option>
            </select>
            <pre>&lt;select <mark>width="100%"</mark>&gt;
    &lt;option&gt;选项1&lt;/option&gt;
    &lt;option&gt;选项2&lt;/option&gt;
&lt;/select&gt;</pre>

            <p>通过 <code>width</code> 属性提前设置好宽度有助于提高性能，但是除了 <code>100%</code> 以外的其他值对应CSS并未设置，会出现原始 <code>&lt;select&gt;</code> 和美化的下拉元素宽度不一致的场景出现。</p>
            <p>例如希望 <code>&lt;select&gt;</code> 宽度 50%，则要么 CSS 中自己设置下。</p>
            <pre>select[width="50%"] {
    width: 50%;
}</pre>
            <p>要么使用 <code>style</code> 属性设置，例如：</p>
            <pre>&lt;select style="width: 50%"&gt;</pre>
            <select style="width: 50%">
                <option>选项1</option>
                <option>选项2</option>
            </select>

            <h3>下拉框-复选</h3>
            <p id="mulSel">
                请选择：<select multiple>
                    <option>选项1</option>
                    <option selected>选项2</option>
                    <option selected>选项3</option>
                    <option>选项4</option>
                    <option disabled>选项5</option>
                    <option>选项6</option>
                </select>
                <button id="btnMultipleMatch" class="ui-button" data-type="primary">使选项1，选项4选中</button>
            </p>
            <p>选中的结果是：<span id="mulResult">选项2, 选项3</span></p>
            <pre>&lt;select <mark>multiple</mark>&gt;
    &lt;option&gt;选项1&lt;/option&gt;
    &lt;option selected&gt;选项2&lt;/option&gt;
    &lt;option selected&gt;选项3&lt;/option&gt;
    &lt;option&gt;选项4&lt;/option&gt;
    &lt;option disabled&gt;选项5&lt;/option&gt;
    &lt;option&gt;选项6&lt;/option&gt;
&lt;/select&gt;</pre>
            <pre>multipleSelect.addEventListener('change', function () {
    result.innerHTML = this.value;
});</pre>
            <p>使“选项1,选项4”选中的 JavaScript 代码示意：</p>
            <pre>button.addEventListener('click', function () {
    <span class="green">// option元素没有设置value属性会把text作为value值
    // 因此这里使用的是text文本值进行赋值，实际开发不是这样哟</span>
    multipleSelect.value = '选项1,选项4';
    <span class="green">// value赋值不会触发change事件（和浏览器原生行为保持一致）
    // 需要我们手动触发</span>
    multipleSelect.dispatchEvent(new CustomEvent('change'));
});</pre>
            <h3>语法和参数</h3>
            <p>绝大多数场景下，大家无需关心语法和参数，也不需要初始化，直接引入 Select.js 即可。</p>
            <pre>&lt;script src="/path/common/ui/Select.js"&gt;&lt;/script&gt;</pre>
            <p>如果遇到特殊场景，下拉框没有初始化，可以使用下面的语法。</p>

            <h4>语法</h4>
            <pre>new Select(element);</pre>
            <p>或者</p>
            <pre>element.refresh();</pre>

            <h4>参数</h4>
            <p><code>element</code> 参数为对应的 <code>&lt;select&gt;</code> DOM元素。</p>
            <p class="tips">Select.js 下拉方法只能基于原生的 &lt;select&gt; 元素生成，不支持基于数据生成。如果希望基于数据结构创建下拉列表，可以参考使用 Drop.js 中的 list() 方法 或者 Datalist.js。</p>

            <h4>赋值</h4>
            <p>存在特殊场景需要手动改变 <code>&lt;select&gt;</code> 元素的选中项，建议直接使用 value 赋值，下拉组件的样式会同步更新。</p>
            <pre>select.value = 'xxx';</pre>
            <p><code>'xxx'</code> 是即将被选中的 <code>&lt;option&gt;</code> 元素的 <code>value</code> 属性值。</p>
            <p>当然，我们也可以直接找到对应的 <code>&lt;option&gt;</code> 元素，然后设置 <code>selected=true</code>，但是需要注意的是，我们需要手动 refresh 下：</p>
            <pre>select.refresh();</pre>

            <h4>事件处理</h4>
            <p>本下拉组件本身只提供样式支持，至于事件处理，完全和处理原生的 <code>&lt;select&gt;</code> 下拉框一样。例如：</p>
            <pre>select.addEventListener('change', function () {
    console.log('来自下拉框：我变化了');
});</pre>

            <h3>其他特性展示与说明</h3>

            <h4>使用原生下拉框</h4>
            <p>给 <code>&lt;select&gt;</code> 元素设置 <code>is-visible</code>  属性，则 Select.js 不会美化此下拉框，采用原生的 UI。</p>
            <select is-visible>
                <option>选项1</option>
                <option>选项2</option>
            </select>
            <select is-visible class="error">
                <option>出错示意</option>
                <option>选项1</option>
                <option>选项2</option>
            </select>
            <pre>&lt;select <mark>is-visible</mark>&gt;
    &lt;option&gt;选项1&lt;/option&gt;
    &lt;option&gt;选项2&lt;/option&gt;
&lt;/select&gt;
&lt;select is-visible class="error"&gt;
    &lt;option&gt;出错示意&lt;/option&gt;
    &lt;option&gt;选项1&lt;/option&gt;
    &lt;option&gt;选项2&lt;/option&gt;
&lt;/select&gt;</pre>
            <p>原生下拉框可以在移动端使用。</p>

            <h4>下拉定位</h4>
            <p>本组件自带下拉列表位置判断，也就是超出窗体，会自动朝上显示，例如：</p>
            <p><img src="https://qidian.qpic.cn/qidian_common/349573/b647ba30a7c00747f316cdc17e82cc52/0" height="117"></p>

            <h4>元素禁用</h4>
            <p>想要实现自定义下拉控件的禁用效果，直接 <code>&lt;select&gt;</code> 元素添加 <code>disabled</code> 属性就可以了。例如：</p>
            <p>
                <select id="selectDisabled" style="width:100px;" disabled><option>请选择</option></select>
                <button id="enableButton" class="ui-button" data-type="primary" onclick="selectDisabled.disabled = !selectDisabled.disabled;">切换disabled状态</button>
            </p>
            <pre>&lt;select style="width:100px;" <mark>disabled</mark>>
    &lt;option>请选择&lt;/option>
&lt;/select></pre>

            <p>复选框的禁用也是增加一个 <code>disabled</code> 属性。例如：</p>
            <p><select multiple disabled><option>选项1</option><option>选项2</option></select></p>
            <pre>&lt;select multiple <mark>disabled</mark>&gt;
    &lt;option&gt;选项1&lt;/option&gt;
    &lt;option&gt;选项2&lt;/option&gt;
&lt;/select&gt;</pre>

            <h4>元素隐藏</h4>
            <p>如果想要隐藏(不占据空间的隐藏)，可以给原生的 <code>&lt;select&gt;</code> 元素增加 HTML5 原生隐藏属性 <code>hidden</code>，下拉框和后面的自定义下拉框会一并隐藏。</p>
            <pre>&lt;select <mark>hidden</mark>&gt;
    &lt;option&gt;选项&lt;/option&gt;
&lt;/select&gt;</pre>

            <h4>元素动态添加</h4>
            <p>
                <button id="btnInsert" class="ui-button" data-type="primary">插入原生下拉HTML</button>
                <button id="btnAdd" class="ui-button" data-type="primary">添加新的option</button>
            </p>

            <pre>button.addEventListener('click', function () {
    <span class="green">// 会自动检测到DOM变化并样式初始化</span>
    this.parentElement.insertAdjacentHTML('afterend', '&lt;select&gt;&lt;option&gt;我是动态插入的&lt;/option&gt;&lt;/select&gt; ');
});</pre>
            <pre>button.addEventListener('click', function () {
    <span class="green">// 会自动检测到DOM变化并样式初始化</span>
    var option = document.createElement('option');
    option.text = '我是新添加的';
    option.selected = true;
    <span class="green">// 添加该option元素到最前面</span>
    select.add(option, 0);
});</pre>

            <button id="bi" class="ui-button db mt10 mb10" data-type="primary">插入form带select</button>
            <pre>&lt;button id="bi" class="ui-button" data-type="primary"&gt;插入form带select&lt;/button&gt;</pre>
            <pre>bi.addEventListener('click', function () {
    this.insertAdjacentHTML('afterend', '&lt;form&gt;&lt;select&gt;&lt;option&gt;请选择&lt;/option&gt;&lt;/select&gt;&lt;form&gt;');
});
</pre>

            <h4>元素删除</h4>
            <p><button id="btnRemove" class="ui-button" data-type="primary">删除原生下拉元素</button> <button id="btnRemoveOption" class="ui-button" data-type="primary">删除第一个 option 元素</button></p>
            <p>
                <select id="selRemove"><option>我要被删除啦</option><option>哈哈哈</option></select>
            </p>
            <pre>button.addEventListener('click', function () {
    <span class="green">// 会自动同步删除生成的下拉组件元素</span>
    select.parentNode.removeChild(select)
});</pre>
            <pre>button.addEventListener('click', function () {
    <span class="green">// 删除第一个option元素，同样会自动UI更新</span>
    select[0].remove();
});</pre>
            <p class="tips">可以看到，无论是初始化，事件，禁用或者添加，隐藏和删除，下拉框组件都严格遵循“面向HTML开发”的设计理念，也就是 Select.js 下拉所有处理都是围绕原生的 &lt;select&gt; 元素展开，大家千万不要对美化后的下拉框元素进行行为上的处理。</p>

            <h4>关于大数据量时候的性能</h4>
            <p>如果遇到需要同时渲染数百或上千个下拉框的场景，需要提前对 <code>&lt;select&gt;</code> 元素通过 <code>style</code> 属性，或者 <code>width</code> 属性设置好宽度（支持数值以及任意长度单位）。可以极大地提升渲染性能，因为渲染的瓶颈就是下拉元素的宽度获取，如果提前设置好，则速度可以大大提升。</p>
            <p>当然，常规开发完全不用在意这个细节，交互体验完全无感知。</p>

            <p>最后测试下底部边缘朝上显示：</p>
            <select>
                <option>请选择</option>
                <option>选项1</option>
                <option>选项2</option>
                <option>选项3</option>
                <option>选项4</option>
                <option>选项5</option>
                <option>选项6</option>
            </select>

            <div class="contributors">
                <svg><use xlink:href="#icon-persons"></use></svg> <h6 class="contributors-h">本页贡献者：</h6><p id="contributorsP" class="contributors-p">zhangxinxu</p>
            </div>
        </article>
    </main>
    <!-- 侧边栏 -->
    <!-- 侧边栏 -->
<aside id="aside" class="aside">
    <div class="aside_main">
    	<dl class="aside_dl">
        	<dt class="aside_dt">关于</dt>
            <dd><a href="./about.design.html" class="aside_nav "><i class="icon icon_nav_msg"><svg><use xlink:href="#icon-maxcdn"></use></svg></i>命名与设计</a></dd>
            <dd><a href="./about.use.html" class="aside_nav "><i class="icon icon_nav_set"><svg><use xlink:href="#icon-wrench"></use></svg></i>使用与发布</a></dd>
        </dl>
        <dl class="aside_dl">
            <dt class="aside_dt">全局</dt>
            <dd><a href="./apis.colour.html" class="aside_nav "><i class="icon icon_nav_ux"><svg><use xlink:href="#icon-delicious"></use></svg></i>颜色</a></dd>
        </dl>
        <dl class="aside_dl">
            <dt class="aside_dt">布局</dt>
            <dd><a href="./apis.table.html" class="aside_nav "><i class="icon icon_nav_ux"><svg><use xlink:href="#icon-table"></use></svg></i>Table表格</a></dd>
        </dl>
        <dl class="aside_dl">
            <dt class="aside_dt">控件</dt>
            <dd><a href="./apis.button.html" class="aside_nav "><i class="icon icon_nav_ux"><svg><use xlink:href="#icon-caret-square-o-right"></use></svg></i>Button按钮</a></dd>
            <dd><a href="./apis.input.html" class="aside_nav "><i class="icon icon_nav_ux"><svg><use xlink:href="#icon-tasks"></use></svg></i>Input文本框</a></dd>
            <dd><a href="./apis.textarea.html" class="aside_nav "><i class="icon icon_nav_ux"><svg><use xlink:href="#icon-square-o"></use></svg></i>Textarea文本域</a></dd>
            <dd><a href="./apis.placeholder.html" class="aside_nav "><i class="icon icon_nav_reply"><svg><use xlink:href="#icon-product-hunt"></use></svg></i>Placeholder占位符</a></dd>
            <dd><a href="./apis.checked.html" class="aside_nav "><i class="icon icon_nav_reply"><svg><use xlink:href="#icon-check-square"></use></svg></i>Radio/Checkbox框</a></dd>
            <dd><a href="./apis.switch.html" class="aside_nav "><i class="icon icon_nav_reply"><svg><use xlink:href="#icon-toggle-on"></use></svg></i>Switch开关</a></dd>
            <dd><a href="./apis.progress.html" class="aside_nav "><i class="icon icon_nav_reply"><svg><use xlink:href="#icon-ellipsis-h"></use></svg></i>Progress进度</a></dd>
        </dl>
        <div class="aside_divide"></div>
        <dl class="aside_dl">
            <dt class="aside_dt" hidden>动态控件</dt>
            <dd><a href="./apis.select.html" class="aside_nav active"><i class="icon icon_nav_user"><svg><use xlink:href="#icon-bars"></use></svg></i>Select下拉框</a></dd>
            <dd><a href="./apis.range.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-sliders"></use></svg></i>Range范围选择</a></dd>
            <dd><a href="./apis.color.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-eyedropper"></use></svg></i>Color颜色选择</a></dd>
            <dd><a href="./apis.datetime.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-calendar"></use></svg></i>DateTime日期选择</a></dd>
        </dl>
        <div class="aside_divide"></div>
        <dl class="aside_dl">
            <dt class="aside_dt">组件</dt>
            <dd><a href="./apis.loading.html" class="aside_nav "><i class="icon icon_nav_reply"><svg><use xlink:href="#icon-spinner"></use></svg></i>Loading效果</a></dd>
            <dd><a href="./apis.datalist.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-list"></use></svg></i>Datalist数据列表</a></dd>
            <dd><a href="./apis.dialog.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-external-link"></use></svg></i>Dialog弹框</a></dd>
            <dd><a href="./apis.tips.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-bell"></use></svg></i>Tips/ErrorTip提示</a></dd>
            <dd><a href="./apis.lighttip.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-bolt"></use></svg></i>LightTip轻提示</a></dd>
            <dd><a href="./apis.pagination.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-stack"></use></svg></i>Pagination分页</a></dd>
            <dd><a href="./apis.drop.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-dropbox"></use></svg></i>Drop等下拉</a></dd>
            <dd><a href="./apis.validate.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-check-square-o"></use></svg></i>Validate表单验证</a></dd>
            <dd><a href="./apis.tab.html" class="aside_nav "><i class="icon icon_nav_user"><svg><use xlink:href="#icon-tags"></use></svg></i>Tab选项卡切换</a></dd>
        </dl>

        <dl class="aside_dl">
            <dt class="aside_dt">综合实例</dt>
            <dd><a href="./example.table.html" class="aside_nav "><i class="icon icon_nav_menu"><svg><use xlink:href="#icon-list-alt"></use></svg></i>表格解决方案</a></dd>
            <dd><a href="./example.form.html" class="aside_nav "><i class="icon icon_nav_source"><svg><use xlink:href="#icon-wpforms"></use></svg></i>表单解决方案</a></dd>
        </dl>
    </div>
</aside>
<script>(function () {
    // 记住滚动位置
    var eleAside = document.getElementById('aside');

    eleAside.addEventListener('click', function () {
        sessionStorage.asideScrollTop = this.scrollTop;
    });

    eleAside.scrollTop = sessionStorage.asideScrollTop;
    // IE这里设置可能没有用
    if (eleAside.scrollTop != sessionStorage.asideScrollTop) {
        setTimeout(function () {
            eleAside.scrollTop = sessionStorage.asideScrollTop;
        }, 1);
    }

    // 滚动条设置判断
    var div = document.createElement('div');
    div.style.width = '100px';
    div.style.height = '1px';
    div.style.overflow = 'auto';
    div.style.position = 'absolute';
    div.style.left = '-199px';
    var p = document.createElement('p');
    p.style.height = '20px';
    div.appendChild(p);
    document.body.appendChild(div);
    if (p.clientWidth != 100) {
        eleAside.className += ' scrollbar';
    }
    document.body.removeChild(div);
})();
</script>
</div>

<a href="#" id="backtop" class="backtop"></a>

<script src="https://qidian.gtimg.com/lulu/pure/js/common/polyfill.js"></script>
<script src="https://qidian.gtimg.com/lulu/pure/js/common/ui/Keyboard.js"></script>
<script src="https://qidian.gtimg.com/lulu/pure/js/common/ui/Select.js"></script>
<!-- 底部 -->
<script src="../pure/assets/js/mockup.js"></script>
</body>
</html>
<script src="https://qidian.gtimg.com/lulu/pure/js/common/ui/Select.js"></script>
<script>
// 多选change回调
document.querySelector('#mulSel select').addEventListener('change', function () {
    document.querySelector('#mulResult').innerHTML = this.value;
});
document.querySelector('#btnMatch').addEventListener('click', function () {
    var eleSelect = this.parentElement.querySelector('select');
    if (eleSelect) {
        eleSelect[1].selected = true;
        eleSelect.refresh();
    }
});

// 多选框选中
document.querySelector('#btnMultipleMatch').addEventListener('click', function () {
    var eleSelect = this.parentElement.querySelector('select');
    if (eleSelect) {
        eleSelect.value = '选项1,选项4';
        // 手动触发change事件执行
        eleSelect.dispatchEvent(new CustomEvent('change'));
    }
});


document.querySelector('#btnHidden').addEventListener('click', function () {
    var eleSelect = this.parentElement.querySelector('select');
    if (eleSelect) {
        eleSelect.setAttribute('hidden', '');
    }
});

document.querySelector('#btnInsert').addEventListener('click', function () {
    // 会自动检测到DOM变化并样式初始化
    this.parentElement.insertAdjacentHTML('afterend', '<select class="jsSelAdd"><option>我是动态插入的</option></select> ');
});

bi.addEventListener('click', function () {
    this.insertAdjacentHTML('afterend', '<form><select><option>请选择</option></select><form>');
});

document.querySelector('#btnAdd').addEventListener('click', function () {
    // 会自动检测到DOM变化并样式初始化
    document.querySelectorAll('select.jsSelAdd').forEach(function (eleSelect) {
        var eleOption = document.createElement('option');
        eleOption.text = '我是新添加的';
        eleOption.selected = true;
        // 添加该option元素到最前面
        eleSelect.add(eleOption, 0);
    });
});

document.querySelector('#btnRemove').addEventListener('click', function () {
    // 会自动删除生成的下拉组件元素
    var eleSelRemove = document.querySelector('#selRemove');
    if (eleSelRemove) {
        eleSelRemove.parentNode.removeChild(eleSelRemove);
    }

    this.disabled = true;
});
document.querySelector('#btnRemoveOption').addEventListener('click', function () {
    // 会自动删除生成的下拉组件元素
    var eleSelRemove = document.querySelector('#selRemove');
    if (eleSelRemove && eleSelRemove[0]) {
        eleSelRemove[0].remove();
    }
});

document.querySelector('select').addEventListener('change', function () {
    console.log('来自下拉框：我变化了');
});
</script>
